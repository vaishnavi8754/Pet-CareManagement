{
    "sourceFile": "Client/src/Components/Services/PostPetSection.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 12,
            "patches": [
                {
                    "date": 1734596242303,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1734597163057,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,482 +2,10 @@\n import postPet from \"./images/postPet.png\";\n import { useAuthContext } from \"../../hooks/UseAuthContext\";\n \n const PostPetSection = () => {\n-  const {user} = useAuthContext()\n-  const [name, setName] = useState(user.userName);\n-  const [age, setAge] = useState(\"\");\n-  const [area, setArea] = useState(\"\");\n-  const [justification, setJustification] = useState(\"\");\n-  const [email, setEmail] = useState(user.email);\n-  const [phone, setPhone] = useState(\"\");\n-  const [formError, setFormError] = useState(false);\n-  const [emailError, setEmailError] = useState(false);\n-  const [ageError, setAgeError] = useState(false);\n-  const [showPopup, setShowPopup] = useState(false);\n-  const [type, setType] = useState(\"None\");\n-  const [picture, setPicture] = useState(null);\n-  const [fileName, setFileName] = useState(\"\");\n-  const [isSubmitting, setIsSubmitting] = useState(false); \n-\n-  useEffect(() => {\n-    if (!isSubmitting) {\n-      setEmailError(false);\n-      setAgeError(false);\n-      setFormError(false);\n-    }\n-  }, [isSubmitting]);\n-\n-  const togglePopup = () => {\n-    setShowPopup(!showPopup);\n-  };\n-\n-  const isEmailValid = (email) => {\n-    const emailPattern = /^[a-zA-Z0-9._-]+@gmail\\.com$/;\n-    return emailPattern.test(email);\n-  };\n-\n-  const handleFileChange = (e) => {\n-    const selectedFile = e.target.files[0];\n-    if (selectedFile) {\n-      setPicture(selectedFile);\n-      setFileName(selectedFile.name);\n-    }\n-  };\n-\n-  const handleSubmit = async (e) => {\n-    e.preventDefault();\n-\n-    if (\n-      !name ||\n-      !age ||\n-      !area ||\n-      !justification ||\n-      !email ||\n-      !phone ||\n-      !fileName ||\n-      type === \"None\" ||\n-      ageError\n-    ) {\n-      setFormError(true);\n-      return;\n-    }\n-\n-    setIsSubmitting(true);\n-\n-    const formData = new FormData();\n-    formData.append(\"name\", name);\n-    formData.append(\"age\", age);\n-    formData.append(\"area\", area);\n-    formData.append(\"justification\", justification);\n-    formData.append(\"email\", email);\n-    formData.append(\"phone\", phone);\n-    formData.append(\"type\", type);\n-\n-    if (picture) {\n-      formData.append(\"picture\", picture);\n-    }\n-\n-    try {\n-      const response = await fetch(\"http://localhost:4000/services\", {\n-        method: \"POST\",\n-        headers: {\n-          'Authorization': `Bearer ${user.token}`\n-        },\n-        body: formData,\n-      });\n-\n-      if (!response.ok) {\n-        throw new Error(\"Network response was not ok\");\n-      }\n-\n-      console.log(\"Form submitted successfully\");\n-\n-      setEmailError(false);\n-      setFormError(false);\n-      setName(\"\");\n-      setAge(\"\");\n-      setArea(\"\");\n-      setJustification(\"\");\n-      setEmail(\"\");\n-      setPhone(\"\");\n-      setPicture(null);\n-      setFileName(\"\");\n-      togglePopup();\n-    } catch (error) {\n-      console.error(\"Error submitting form:\", error);\n-    } finally {\n-      setIsSubmitting(false);\n-    }\n-  };\n-\n-\n-  return (\n-    <section className=\"post-pet-section\">\n-      <h2>Post a Pet for Adoption</h2>\n-      <img src={postPet} alt=\"Pet Looking for a Home\" />\n-\n-      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n-        <div className=\"input-box\">\n-          <label>Name:</label>\n-          <input\n-            type=\"text\"\n-            value={name}\n-          />\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Pet Age:</label>\n-          <input\n-            type=\"text\"\n-            value={age}\n-            onChange={(e) => {setAge(e.target.value);}}\n-          />\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Picture:</label>\n-          <label className=\"file-input-label\">\n-            <span className=\"file-input-text\">\n-              {fileName || \"Choose a Picture\"}\n-            </span>\n-            <input\n-              className=\"file-input\"\n-              type=\"file\"\n-              accept=\"image/*\"\n-              onChange={handleFileChange}\n-            />\n-          </label>\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Location:</label>\n-          <input\n-            type=\"text\"\n-            value={area}\n-            onChange={(e) => setArea(e.target.value)}\n-          />\n-        </div>\n-\n-        <div className=\"filter-selection-service\">\n-          <label>Type:</label>\n-          <select\n-            value={type}\n-            onChange={(event) => setType(event.target.value)}\n-          >\n-            <option value=\"None\">None</option>\n-            <option value=\"Dog\">Dog</option>\n-            <option value=\"Cat\">Cat</option>\n-            <option value=\"Rabbit\">Rabbit</option>\n-            <option value=\"Bird\">Bird</option>\n-            <option value=\"Fish\">Fish</option>\n-            <option value=\"Other\">Other</option>\n-          </select>\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <h3>Justification for giving a pet</h3>\n-          <textarea\n-            rows=\"4\"\n-            value={justification}\n-            onChange={(e) => setJustification(e.target.value)}\n-          ></textarea>\n-        </div>\n-\n-        <h3>Contact Information</h3>\n-\n-        <div className=\"input-box\">\n-          <label>Email:</label>\n-          <input\n-            type=\"text\"\n-            value={email}\n-          />\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Ph.No:</label>\n-          <input\n-            type=\"tel\"\n-            value={phone}\n-            onChange={(e) => setPhone(e.target.value)}\n-          />\n-        </div>\n-\n-        {emailError && (\n-          <p className=\"error-message\">Please provide a valid email address.</p>\n-        )}\n-        {formError && (\n-          <p className=\"error-message\">Please fill out all fields correctly.</p>\n-        )}\n-\n-        <button type=\"submit\" className=\"cta-button\" disabled={isSubmitting}>\n-          {isSubmitting ? \"Submitting...\" : \"Submit Your Pet\"}\n-        </button>\n-\n-        {showPopup && (\n-          <div className=\"popup\">\n-            <div className=\"popup-content\">\n-              <h4>Application Submitted; we'll get in touch with you soon.</h4>\n-            </div>\n-            <button onClick={togglePopup} className=\"close-btn\">\n-              Close <i className=\"fa fa-times\"></i>\n-            </button>\n-          </div>\n-        )}\n-      </form>\n-    </section>\n-  );\n-};\n-\n-export default PostPetSection; */\n-\n-/*import React, { useState, useEffect } from \"react\";\n-import postPet from \"./images/postPet.png\";\n-import { useAuthContext } from \"../../hooks/UseAuthContext\";\n-\n-const PostPetSection = () => {\n-  const {user} = useAuthContext();\n-  const [name, setName] = useState(\"\");\n-  const [age, setAge] = useState(\"\");\n-  const [area, setArea] = useState(\"\");\n-  const [justification, setJustification] = useState(\"\");\n-  const [email, setEmail] = useState(user.email);\n-  const [phone, setPhone] = useState(\"\");\n-  const [formError, setFormError] = useState(false);\n-  const [emailError, setEmailError] = useState(false);\n-  const [ageError, setAgeError] = useState(false);\n-  const [showPopup, setShowPopup] = useState(false);\n-  const [type, setType] = useState(\"None\");\n-  const [picture, setPicture] = useState(null);\n-  const [fileName, setFileName] = useState(\"\");\n-  const [isSubmitting, setIsSubmitting] = useState(false);\n-\n-  useEffect(() => {\n-    if (!isSubmitting) {\n-      setEmailError(false);\n-      setAgeError(false);\n-      setFormError(false);\n-    }\n-  }, [isSubmitting]);\n-\n-  const togglePopup = () => {\n-    setShowPopup(!showPopup);\n-  };\n-\n-  // Email validation function\n-  const isEmailValid = (email) => {\n-    const emailPattern = /^[a-zA-Z0-9._-]+@gmail\\.com$/;\n-    return emailPattern.test(email);\n-  };\n-\n-  const handleFileChange = (e) => {\n-    const selectedFile = e.target.files[0];\n-    if (selectedFile) {\n-      setPicture(selectedFile);\n-      setFileName(selectedFile.name);\n-    }\n-  };\n-\n-  const handleSubmit = async (e) => {\n-    e.preventDefault();\n-\n-    // Validate the email before submitting\n-    if (!isEmailValid(email)) {\n-      setEmailError(true);\n-      return; // Stop the form submission if the email is invalid\n-    }\n-\n-    if (\n-      !name ||\n-      !age ||\n-      !area ||\n-      !justification ||\n-      !email ||\n-      !phone ||\n-      !fileName ||\n-      type === \"None\" ||\n-      ageError\n-    ) {\n-      setFormError(true);\n-      return;\n-    }\n-\n-    setIsSubmitting(true);\n-\n-    const formData = new FormData();\n-    formData.append(\"name\", name);\n-    formData.append(\"age\", age);\n-    formData.append(\"area\", area);\n-    formData.append(\"justification\", justification);\n-    formData.append(\"email\", email);\n-    formData.append(\"phone\", phone);\n-    formData.append(\"type\", type);\n-\n-    if (picture) {\n-      formData.append(\"picture\", picture);\n-    }\n-\n-    try {\n-      const response = await fetch(\"http://localhost:4000/services\", {\n-        method: \"POST\",\n-        headers: {\n-          'Authorization': `Bearer ${user.token}`\n-        },\n-        body: formData,\n-      });\n-\n-      if (!response.ok) {\n-        throw new Error(\"Network response was not ok\");\n-      }\n-\n-      console.log(\"Form submitted successfully\");\n-\n-      setEmailError(false);\n-      setFormError(false);\n-      setName(\"\");\n-      setAge(\"\");\n-      setArea(\"\");\n-      setJustification(\"\");\n-      setEmail(\"\");\n-      setPhone(\"\");\n-      setPicture(null);\n-      setFileName(\"\");\n-      togglePopup();\n-    } catch (error) {\n-      console.error(\"Error submitting form:\", error);\n-    } finally {\n-      setIsSubmitting(false);\n-    }\n-  };\n-\n-  return (\n-    <section className=\"post-pet-section\">\n-      <h2>Post a Pet for Adoption</h2>\n-      <img src={postPet} alt=\"Pet Looking for a Home\" />\n-\n-      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n-        <div className=\"input-box\">\n-          <label>Name:</label>\n-          <input\n-            type=\"text\"\n-            value={name}\n-            onChange={(e) => setName(e.target.value)}\n-          />\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Pet Age:</label>\n-          <input\n-            type=\"text\"\n-            value={age}\n-            onChange={(e) => {setAge(e.target.value);}}\n-          />\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Picture:</label>\n-          <label className=\"file-input-label\">\n-            <span className=\"file-input-text\">\n-              {fileName || \"Choose a Picture\"}\n-            </span>\n-            <input\n-              className=\"file-input\"\n-              type=\"file\"\n-              accept=\"image/*\"\n-              onChange={handleFileChange}\n-            />\n-          </label>\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Location:</label>\n-          <input\n-            type=\"text\"\n-            value={area}\n-            onChange={(e) => setArea(e.target.value)}\n-          />\n-        </div>\n-\n-        <div className=\"filter-selection-service\">\n-          <label>Type:</label>\n-          <select\n-            value={type}\n-            onChange={(event) => setType(event.target.value)}\n-          >\n-            <option value=\"None\">None</option>\n-            <option value=\"Dog\">Dog</option>\n-            <option value=\"Cat\">Cat</option>\n-            <option value=\"Rabbit\">Rabbit</option>\n-            <option value=\"Bird\">Bird</option>\n-            <option value=\"Fish\">Fish</option>\n-            <option value=\"Other\">Other</option>\n-          </select>\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <h3>Justification for giving a pet</h3>\n-          <textarea\n-            rows=\"4\"\n-            value={justification}\n-            onChange={(e) => setJustification(e.target.value)}\n-          ></textarea>\n-        </div>\n-\n-        <h3>Contact Information</h3>\n-\n-        <div className=\"input-box\">\n-          <label>Email:</label>\n-          <input\n-            type=\"text\"\n-            value={email}\n-            onChange={(e) => setEmail(e.target.value)}\n-          />\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Ph.No:</label>\n-          <input\n-            type=\"tel\"\n-            value={phone}\n-            onChange={(e) => setPhone(e.target.value)}\n-          />\n-        </div>\n-\n-        {emailError && (\n-          <p className=\"error-message\">Please provide a valid email address.</p>\n-        )}\n-        {formError && (\n-          <p className=\"error-message\">Please fill out all fields correctly.</p>\n-        )}\n-\n-        <button type=\"submit\" className=\"cta-button\" disabled={isSubmitting}>\n-          {isSubmitting ? \"Submitting...\" : \"Submit Your Pet\"}\n-        </button>\n-\n-        {showPopup && (\n-          <div className=\"popup\">\n-            <div className=\"popup-content\">\n-              <h4>Application Submitted; we'll get in touch with you soon.</h4>\n-            </div>\n-            <button onClick={togglePopup} className=\"close-btn\">\n-              Close <i className=\"fa fa-times\"></i>\n-            </button>\n-          </div>\n-        )}\n-      </form>\n-    </section>\n-  );\n-};\n-\n-export default PostPetSection;*/\n-\n-/*import React, { useState, useEffect } from \"react\";\n-import postPet from \"./images/postPet.png\";\n-import { useAuthContext } from \"../../hooks/UseAuthContext\";\n-\n-const PostPetSection = () => {\n   const { user } = useAuthContext();\n-  const [petStatus, setPetStatus] = useState(\"Home Pet\");\n+  const [petStatus, setPetStatus] = useState(\"\");\n   const [name, setName] = useState(\"\");\n   const [age, setAge] = useState(\"\");\n   const [area, setArea] = useState(\"\");\n   const [justification, setJustification] = useState(\"\");\n@@ -528,10 +56,10 @@\n     if (\n       !email ||\n       !fileName ||\n       type === \"None\" ||\n-      (petStatus === \"Home Pet\" && (!name || !age || !area || !justification || !phone)) ||\n-      (petStatus === \"Homeless Pet\" && (!posterName || !phone || !area || !daysInLocation))\n+      (petStatus === \"HomePet\" && (!name || !age || !area || !justification || !phone)) ||\n+      (petStatus === \"HomelessPet\" && (!posterName || !phone || !area || !daysInLocation))\n     ) {\n       setFormError(true);\n       return;\n     }\n@@ -543,9 +71,9 @@\n     formData.append(\"type\", type);\n     formData.append(\"area\", area);\n     formData.append(\"picture\", picture);\n \n-    if (petStatus === \"Home Pet\") {\n+    if (petStatus === \"HomePet\") {\n       formData.append(\"name\", name);\n       formData.append(\"age\", age);\n       formData.append(\"justification\", justification);\n       formData.append(\"phone\", phone);\n@@ -599,26 +127,26 @@\n         <label>\n           <input\n             type=\"radio\"\n             value=\"Home Pet\"\n-            checked={petStatus === \"Home Pet\"}\n-            onChange={() => setPetStatus(\"Home Pet\")}\n+            checked={petStatus === \"HomePet\"}\n+            onChange={() => setPetStatus(\"HomePet\")}\n           />\n           Home Pet\n         </label>\n         <label>\n           <input\n             type=\"radio\"\n             value=\"Homeless Pet\"\n-            checked={petStatus === \"Homeless Pet\"}\n-            onChange={() => setPetStatus(\"Homeless Pet\")}\n+            checked={petStatus === \"HomelessPet\"}\n+            onChange={() => setPetStatus(\"HomelessPet\")}\n           />\n           Homeless Pet\n         </label>\n       </div>\n \n       <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n-        {petStatus === \"Home Pet\" && (\n+        {petStatus === \"HomePet\" && (\n           <>\n             <div className=\"input-box\">\n               <label>Name:</label>\n               <input\n@@ -653,9 +181,9 @@\n             </div>\n           </>\n         )}\n \n-        {petStatus === \"Homeless Pet\" && (\n+        {petStatus === \"HomelessPet\" && (\n           <>\n             <div className=\"input-box\">\n               <label>Poster Name:</label>\n               <input\n@@ -757,884 +285,9 @@\n     </section>\n   );\n };\n \n-export default PostPetSection;*/\n-\n-/*import React, { useState, useEffect } from \"react\";\n-import postPet from \"./images/postPet.png\";\n-import { useAuthContext } from \"../../hooks/UseAuthContext\";\n-\n-const PostPetSection = () => {\n-  const { user } = useAuthContext();\n-  const [petStatus, setPetStatus] = useState(\"Home Pet\");\n-  const [name, setName] = useState(\"\");\n-  const [age, setAge] = useState(\"\");\n-  const [area, setArea] = useState(\"\");\n-  const [justification, setJustification] = useState(\"\");\n-  const [posterName, setPosterName] = useState(\"\");\n-  const [email, setEmail] = useState(user.email);\n-  const [phone, setPhone] = useState(\"\");\n-  const [daysInLocation, setDaysInLocation] = useState(\"\");\n-  const [formError, setFormError] = useState(false);\n-  const [emailError, setEmailError] = useState(false);\n-  const [showPopup, setShowPopup] = useState(false);\n-  const [type, setType] = useState(\"None\");\n-  const [picture, setPicture] = useState(null);\n-  const [fileName, setFileName] = useState(\"\");\n-  const [isSubmitting, setIsSubmitting] = useState(false);\n-\n-  useEffect(() => {\n-    if (!isSubmitting) {\n-      setEmailError(false);\n-      setFormError(false);\n-    }\n-  }, [isSubmitting]);\n-\n-  const togglePopup = () => {\n-    setShowPopup(!showPopup);\n-  };\n-\n-  const isEmailValid = (email) => {\n-    const emailPattern = /^[a-zA-Z0-9._-]+@gmail\\.com$/;\n-    return emailPattern.test(email);\n-  };\n-\n-  const handleFileChange = (e) => {\n-    const selectedFile = e.target.files[0];\n-    if (selectedFile) {\n-      setPicture(selectedFile);\n-      setFileName(selectedFile.name);\n-    }\n-  };\n-\n-  const handleSubmit = async (e) => {\n-    e.preventDefault();\n-\n-    if (!isEmailValid(email)) {\n-      setEmailError(true);\n-      return;\n-    }\n-\n-    if (\n-      !email ||\n-      !fileName ||\n-      type === \"None\" ||\n-      (petStatus === \"Home Pet\" && (!name || !age || !area || !justification || !phone)) ||\n-      (petStatus === \"Homeless Pet\" && (!posterName || !phone || !area || !daysInLocation))\n-    ) {\n-      setFormError(true);\n-      return;\n-    }\n-\n-    setIsSubmitting(true);\n-\n-    const formData = new FormData();\n-    formData.append(\"email\", email);\n-    formData.append(\"type\", type);\n-    formData.append(\"area\", area);\n-    formData.append(\"picture\", picture);\n-\n-    if (petStatus === \"Home Pet\") {\n-      formData.append(\"name\", name);\n-      formData.append(\"age\", age);\n-      formData.append(\"justification\", justification);\n-      formData.append(\"phone\", phone);\n-    } else {\n-      formData.append(\"posterName\", posterName);\n-      formData.append(\"phone\", phone);\n-      formData.append(\"daysInLocation\", daysInLocation);\n-    }\n-\n-    try {\n-      const response = await fetch(\"http://localhost:4000/services\", {\n-        method: \"POST\",\n-        headers: {\n-          Authorization: `Bearer ${user.token}`,\n-        },\n-        body: formData,\n-      });\n-\n-      if (!response.ok) {\n-        throw new Error(\"Network response was not ok\");\n-      }\n-\n-      console.log(\"Form submitted successfully\");\n-\n-      setEmailError(false);\n-      setFormError(false);\n-      setName(\"\");\n-      setAge(\"\");\n-      setArea(\"\");\n-      setJustification(\"\");\n-      setPosterName(\"\");\n-      setEmail(user.email);\n-      setPhone(\"\");\n-      setPicture(null);\n-      setFileName(\"\");\n-      setDaysInLocation(\"\");\n-      togglePopup();\n-    } catch (error) {\n-      console.error(\"Error submitting form:\", error);\n-    } finally {\n-      setIsSubmitting(false);\n-    }\n-  };\n-\n-  return (\n-    <section className=\"post-pet-section\">\n-      <h2>Post a Pet for Adoption</h2>\n-      <img src={postPet} alt=\"Pet Looking for a Home\" />\n-\n-      <div className=\"pet-status-toggle\">\n-        <label>\n-          <input\n-            type=\"radio\"\n-            value=\"Home Pet\"\n-            checked={petStatus === \"Home Pet\"}\n-            onChange={() => setPetStatus(\"Home Pet\")}\n-          />\n-          Home Pet\n-        </label>\n-        <label>\n-          <input\n-            type=\"radio\"\n-            value=\"Homeless Pet\"\n-            checked={petStatus === \"Homeless Pet\"}\n-            onChange={() => setPetStatus(\"Homeless Pet\")}\n-          />\n-          Homeless Pet\n-        </label>\n-      </div>\n-\n-      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n-        {petStatus === \"Home Pet\" && (\n-          <>\n-            <div className=\"input-box\">\n-              <label>Name:</label>\n-              <input\n-                type=\"text\"\n-                value={name}\n-                onChange={(e) => setName(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Pet Age:</label>\n-              <input\n-                type=\"text\"\n-                value={age}\n-                onChange={(e) => setAge(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <h3>Justification for giving a pet</h3>\n-              <textarea\n-                rows=\"4\"\n-                value={justification}\n-                onChange={(e) => setJustification(e.target.value)}\n-              ></textarea>\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Phone No:</label>\n-              <input\n-                type=\"tel\"\n-                value={phone}\n-                onChange={(e) => setPhone(e.target.value)}\n-              />\n-            </div>\n-          </>\n-        )}\n-\n-        {petStatus === \"Homeless Pet\" && (\n-          <>\n-            <div className=\"input-box\">\n-              <label>Poster Name:</label>\n-              <input\n-                type=\"text\"\n-                value={posterName}\n-                onChange={(e) => setPosterName(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Phone No:</label>\n-              <input\n-                type=\"tel\"\n-                value={phone}\n-                onChange={(e) => setPhone(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Days in Location:</label>\n-              <input\n-                type=\"text\"\n-                value={daysInLocation}\n-                onChange={(e) => setDaysInLocation(e.target.value)}\n-              />\n-            </div>\n-          </>\n-        )}\n-\n-        <div className=\"input-box\">\n-          <label>Picture:</label>\n-          <label className=\"file-input-label\">\n-            <span className=\"file-input-text\">\n-              {fileName || \"Choose a Picture\"}\n-            </span>\n-            <input\n-              className=\"file-input\"\n-              type=\"file\"\n-              accept=\"image/*\"\n-              onChange={handleFileChange}\n-            />\n-          </label>\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Location:</label>\n-          <input\n-            type=\"text\"\n-            value={area}\n-            onChange={(e) => setArea(e.target.value)}\n-          />\n-        </div>\n-\n-        <div className=\"filter-selection-service\">\n-          <label>Type:</label>\n-          <select\n-            value={type}\n-            onChange={(event) => setType(event.target.value)}\n-          >\n-            <option value=\"None\">None</option>\n-            <option value=\"Dog\">Dog</option>\n-            <option value=\"Cat\">Cat</option>\n-            <option value=\"Rabbit\">Rabbit</option>\n-            <option value=\"Bird\">Bird</option>\n-            <option value=\"Fish\">Fish</option>\n-            <option value=\"Other\">Other</option>\n-          </select>\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Email:</label>\n-          <input\n-            type=\"text\"\n-            value={email}\n-            onChange={(e) => setEmail(e.target.value)}\n-          />\n-        </div>\n-\n-        {emailError && (\n-          <p className=\"error-message\">Please provide a valid email address.</p>\n-        )}\n-        {formError && (\n-          <p className=\"error-message\">Please fill out all fields correctly.</p>\n-        )}\n-\n-        <button type=\"submit\" className=\"cta-button\" disabled={isSubmitting}>\n-          {isSubmitting ? \"Submitting...\" : \"Submit Your Pet\"}\n-        </button>\n-\n-        {showPopup && (\n-          <div className=\"popup\">\n-            <div className=\"popup-content\">\n-              <h4>Application Submitted; we'll get in touch with you soon.</h4>\n-            </div>\n-            <button onClick={togglePopup} className=\"close-btn\">\n-              Close <i className=\"fa fa-times\"></i>\n-            </button>\n-          </div>\n-        )}\n-      </form>\n-    </section>\n-  );\n-};\n-\n-export default PostPetSection;*/\n-/*import React, { useState, useEffect } from \"react\";\n-import postPet from \"./images/postPet.png\";\n-import { useAuthContext } from \"../../hooks/UseAuthContext\";\n-\n-const PostPetSection = () => {\n-  const { user } = useAuthContext();\n-  const [petStatus, setPetStatus] = useState(\"Home Pet\");\n-  const [name, setName] = useState(\"\");\n-  const [age, setAge] = useState(\"\");\n-  const [area, setArea] = useState(\"\");\n-  const [justification, setJustification] = useState(\"\");\n-  const [posterName, setPosterName] = useState(\"\");\n-  const [email, setEmail] = useState(user.email);\n-  const [phone, setPhone] = useState(\"\");\n-  const [daysInLocation, setDaysInLocation] = useState(\"\");\n-  const [formError, setFormError] = useState(false);\n-  const [emailError, setEmailError] = useState(false);\n-  const [showPopup, setShowPopup] = useState(false);\n-  const [type, setType] = useState(\"None\");\n-  const [picture, setPicture] = useState(null);\n-  const [fileName, setFileName] = useState(\"\");\n-  const [isSubmitting, setIsSubmitting] = useState(false);\n-\n-  useEffect(() => {\n-    if (!isSubmitting) {\n-      setEmailError(false);\n-      setFormError(false);\n-    }\n-  }, [isSubmitting]);\n-\n-  const togglePopup = () => {\n-    setShowPopup(!showPopup);\n-  };\n-\n-  const isEmailValid = (email) => {\n-    const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n-    return emailPattern.test(email);\n-  };\n-\n-  const handleFileChange = (e) => {\n-    const selectedFile = e.target.files[0];\n-    if (selectedFile) {\n-      setPicture(selectedFile);\n-      setFileName(selectedFile.name);\n-    }\n-  };\n-\n-  const handleSubmit = async (e) => {\n-    e.preventDefault();\n-\n-    console.log('Form submitted with data: ', { email, fileName, petStatus, name, age, justification, phone, posterName, daysInLocation, type, area });\n-\n-    if (!isEmailValid(email)) {\n-      setEmailError(true);\n-      return;\n-    }\n-\n-    if (\n-      !email ||\n-      !fileName ||\n-      type === \"None\" ||\n-      (petStatus === \"Home Pet\" && (!name || !age || !area || !justification || !phone)) ||\n-      (petStatus === \"Homeless Pet\" && (!posterName || !phone || !area || !daysInLocation))\n-    ) {\n-      setFormError(true);\n-      return;\n-    }\n-\n-    setIsSubmitting(true);\n-\n-    const formData = new FormData();\n-    formData.append(\"email\", email);\n-    formData.append(\"type\", type);\n-    formData.append(\"area\", area);\n-    formData.append(\"picture\", picture);\n-\n-    if (petStatus === \"Home Pet\") {\n-      formData.append(\"name\", name);\n-      formData.append(\"age\", age);\n-      formData.append(\"justification\", justification);\n-      formData.append(\"phone\", phone);\n-    } else {\n-      formData.append(\"posterName\", posterName);\n-      formData.append(\"phone\", phone);\n-      formData.append(\"daysInLocation\", daysInLocation);\n-    }\n-\n-    try {\n-      console.log(\"Sending request...\");\n-      const response = await fetch(\"http://localhost:4000/services\", {\n-        method: \"POST\",\n-        headers: {\n-          Authorization: `Bearer ${user.token}`,\n-        },\n-        body: formData,\n-      });\n-\n-      if (!response.ok) {\n-        const errorMessage = await response.text();\n-        console.log(\"Error response:\", errorMessage);\n-        throw new Error(errorMessage);\n-      }\n-\n-      console.log(\"Form submitted successfully\");\n-\n-      setEmailError(false);\n-      setFormError(false);\n-      setName(\"\");\n-      setAge(\"\");\n-      setArea(\"\");\n-      setJustification(\"\");\n-      setPosterName(\"\");\n-      setEmail(user.email);\n-      setPhone(\"\");\n-      setPicture(null);\n-      setFileName(\"\");\n-      setDaysInLocation(\"\");\n-      togglePopup();\n-    } catch (error) {\n-      console.error(\"Error submitting form:\", error);\n-      setFormError(true); // Show form error in case of failure\n-    } finally {\n-      setIsSubmitting(false);\n-    }\n-  };\n-\n-  return (\n-    <section className=\"post-pet-section\">\n-      <h2>Post a Pet for Adoption</h2>\n-      <img src={postPet} alt=\"Pet Looking for a Home\" />\n-\n-      <div className=\"pet-status-toggle\">\n-        <label>\n-          <input\n-            type=\"radio\"\n-            value=\"Home Pet\"\n-            checked={petStatus === \"Home Pet\"}\n-            onChange={() => setPetStatus(\"Home Pet\")}\n-          />\n-          Home Pet\n-        </label>\n-        <label>\n-          <input\n-            type=\"radio\"\n-            value=\"Homeless Pet\"\n-            checked={petStatus === \"Homeless Pet\"}\n-            onChange={() => setPetStatus(\"Homeless Pet\")}\n-          />\n-          Homeless Pet\n-        </label>\n-      </div>\n-\n-      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n-        {petStatus === \"Home Pet\" && (\n-          <>\n-            <div className=\"input-box\">\n-              <label>Name:</label>\n-              <input\n-                type=\"text\"\n-                value={name}\n-                onChange={(e) => setName(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Pet Age:</label>\n-              <input\n-                type=\"text\"\n-                value={age}\n-                onChange={(e) => setAge(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <h3>Justification for giving a pet</h3>\n-              <textarea\n-                rows=\"4\"\n-                value={justification}\n-                onChange={(e) => setJustification(e.target.value)}\n-              ></textarea>\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Phone No:</label>\n-              <input\n-                type=\"tel\"\n-                value={phone}\n-                onChange={(e) => setPhone(e.target.value)}\n-              />\n-            </div>\n-          </>\n-        )}\n-\n-        {petStatus === \"Homeless Pet\" && (\n-          <>\n-            <div className=\"input-box\">\n-              <label>Poster Name:</label>\n-              <input\n-                type=\"text\"\n-                value={posterName}\n-                onChange={(e) => setPosterName(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Phone No:</label>\n-              <input\n-                type=\"tel\"\n-                value={phone}\n-                onChange={(e) => setPhone(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Days in Location:</label>\n-              <input\n-                type=\"text\"\n-                value={daysInLocation}\n-                onChange={(e) => setDaysInLocation(e.target.value)}\n-              />\n-            </div>\n-          </>\n-        )}\n-\n-        <div className=\"input-box\">\n-          <label>Picture:</label>\n-          <label className=\"file-input-label\">\n-            <span className=\"file-input-text\">\n-              {fileName || \"Choose a Picture\"}\n-            </span>\n-            <input\n-              className=\"file-input\"\n-              type=\"file\"\n-              accept=\"image/*\"\n-              onChange={handleFileChange}\n-            />\n-          </label>\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Location:</label>\n-          <input\n-            type=\"text\"\n-            value={area}\n-            onChange={(e) => setArea(e.target.value)}\n-          />\n-        </div>\n-\n-        <div className=\"filter-selection-service\">\n-          <label>Type:</label>\n-          <select\n-            value={type}\n-            onChange={(event) => setType(event.target.value)}\n-          >\n-            <option value=\"None\">None</option>\n-            <option value=\"Dog\">Dog</option>\n-            <option value=\"Cat\">Cat</option>\n-            <option value=\"Rabbit\">Rabbit</option>\n-            <option value=\"Bird\">Bird</option>\n-            <option value=\"Fish\">Fish</option>\n-            <option value=\"Other\">Other</option>\n-          </select>\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Email:</label>\n-          <input\n-            type=\"text\"\n-            value={email}\n-            onChange={(e) => setEmail(e.target.value)}\n-          />\n-        </div>\n-\n-        {emailError && (\n-          <p className=\"error-message\">Please provide a valid email address.</p>\n-        )}\n-        {formError && (\n-          <p className=\"error-message\">Please fill out all fields correctly.</p>\n-        )}\n-\n-        <button type=\"submit\" className=\"cta-button\" disabled={isSubmitting}>\n-          {isSubmitting ? \"Submitting...\" : \"Submit Your Pet\"}\n-        </button>\n-\n-        {showPopup && (\n-          <div className=\"popup\">\n-            <div className=\"popup-content\">\n-              <h4>Application Submitted; we'll get in touch with you soon.</h4>\n-            </div>\n-            <button onClick={togglePopup} className=\"close-btn\">\n-              Close <i className=\"fa fa-times\"></i>\n-            </button>\n-          </div>\n-        )}\n-      </form>\n-    </section>\n-  );\n-};\n-\n-export default PostPetSection;*/\n-\n-/*import React, { useState, useEffect } from \"react\";\n-import postPet from \"./images/postPet.png\";\n-import { useAuthContext } from \"../../hooks/UseAuthContext\";\n-\n-const PostPetSection = () => {\n-  const { user } = useAuthContext();\n-  const [petStatus, setPetStatus] = useState(\"\");\n-  const [name, setName] = useState(\"\");\n-  const [age, setAge] = useState(\"\");\n-  const [area, setArea] = useState(\"\");\n-  const [justification, setJustification] = useState(\"\");\n-  const [posterName, setPosterName] = useState(\"\");\n-  const [email, setEmail] = useState(user.email);\n-  const [phone, setPhone] = useState(\"\");\n-  const [daysInLocation, setDaysInLocation] = useState(\"\");\n-  const [formError, setFormError] = useState(false);\n-  const [emailError, setEmailError] = useState(false);\n-  const [showPopup, setShowPopup] = useState(false);\n-  const [type, setType] = useState(\"None\");\n-  const [picture, setPicture] = useState(null);\n-  const [fileName, setFileName] = useState(\"\");\n-  const [isSubmitting, setIsSubmitting] = useState(false);\n-\n-  useEffect(() => {\n-    if (!isSubmitting) {\n-      setEmailError(false);\n-      setFormError(false);\n-    }\n-  }, [isSubmitting]);\n-\n-  const togglePopup = () => {\n-    setShowPopup(!showPopup);\n-  };\n-\n-  const isEmailValid = (email) => {\n-    const emailPattern = /^[a-zA-Z0-9._-]+@gmail\\.com$/;\n-    return emailPattern.test(email);\n-  };\n-\n-  const handleFileChange = (e) => {\n-    const selectedFile = e.target.files[0];\n-    if (selectedFile) {\n-      setPicture(selectedFile);\n-      setFileName(selectedFile.name);\n-    }\n-  };\n-\n-  const handleSubmit = async (e) => {\n-    e.preventDefault();\n-\n-    if (!isEmailValid(email)) {\n-      setEmailError(true);\n-      return;\n-    }\n-\n-    if (\n-      !email ||\n-      !fileName ||\n-      type === \"None\" ||\n-      (petStatus === \"Home Pet\" && (!name || !age || !area || !justification || !phone)) ||\n-      (petStatus === \"Homeless Pet\" && (!posterName || !phone || !area || !daysInLocation))\n-    ) {\n-      setFormError(true);\n-      return;\n-    }\n-\n-    setIsSubmitting(true);\n-\n-    const formData = new FormData();\n-    formData.append(\"email\", email);\n-    formData.append(\"type\", type);\n-    formData.append(\"area\", area);\n-    formData.append(\"picture\", picture);\n-\n-    if (petStatus === \"Home Pet\") {\n-      formData.append(\"name\", name);\n-      formData.append(\"age\", age);\n-      formData.append(\"justification\", justification);\n-      formData.append(\"phone\", phone);\n-    } else {\n-      formData.append(\"posterName\", posterName);\n-      formData.append(\"phone\", phone);\n-      formData.append(\"daysInLocation\", daysInLocation);\n-    }\n-\n-    try {\n-      const response = await fetch(\"http://localhost:4000/services\", {\n-        method: \"POST\",\n-        headers: {\n-          Authorization: `Bearer ${user.token}`,\n-        },\n-        body: formData,\n-      });\n-\n-      if (!response.ok) {\n-        throw new Error(\"Network response was not ok\");\n-      }\n-\n-      console.log(\"Form submitted successfully\");\n-\n-      setEmailError(false);\n-      setFormError(false);\n-      setName(\"\");\n-      setAge(\"\");\n-      setArea(\"\");\n-      setJustification(\"\");\n-      setPosterName(\"\");\n-      setEmail(user.email);\n-      setPhone(\"\");\n-      setPicture(null);\n-      setFileName(\"\");\n-      setDaysInLocation(\"\");\n-      togglePopup();\n-    } catch (error) {\n-      console.error(\"Error submitting form:\", error);\n-    } finally {\n-      setIsSubmitting(false);\n-    }\n-  };\n-\n-  return (\n-    <section className=\"post-pet-section\">\n-      <h2>Post a Pet for Adoption</h2>\n-      <img src={postPet} alt=\"Pet Looking for a Home\" />\n-\n-      <div className=\"pet-status-toggle\">\n-        <label>\n-          <input\n-            type=\"radio\"\n-            value=\"Home Pet\"\n-            checked={petStatus === \"Home Pet\"}\n-            onChange={() => setPetStatus(\"Home Pet\")}\n-          />\n-          Home Pet\n-        </label>\n-        <label>\n-          <input\n-            type=\"radio\"\n-            value=\"Homeless Pet\"\n-            checked={petStatus === \"Homeless Pet\"}\n-            onChange={() => setPetStatus(\"Homeless Pet\")}\n-          />\n-          Homeless Pet\n-        </label>\n-      </div>\n-\n-      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n-        {petStatus === \"Home Pet\" && (\n-          <>\n-            <div className=\"input-box\">\n-              <label>Name:</label>\n-              <input\n-                type=\"text\"\n-                value={name}\n-                onChange={(e) => setName(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Pet Age:</label>\n-              <input\n-                type=\"text\"\n-                value={age}\n-                onChange={(e) => setAge(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <h3>Justification for giving a pet</h3>\n-              <textarea\n-                rows=\"4\"\n-                value={justification}\n-                onChange={(e) => setJustification(e.target.value)}\n-              ></textarea>\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Phone No:</label>\n-              <input\n-                type=\"tel\"\n-                value={phone}\n-                onChange={(e) => setPhone(e.target.value)}\n-              />\n-            </div>\n-          </>\n-        )}\n-\n-        {petStatus === \"Homeless Pet\" && (\n-          <>\n-            <div className=\"input-box\">\n-              <label>Poster Name:</label>\n-              <input\n-                type=\"text\"\n-                value={posterName}\n-                onChange={(e) => setPosterName(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Phone No:</label>\n-              <input\n-                type=\"tel\"\n-                value={phone}\n-                onChange={(e) => setPhone(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Days in Location:</label>\n-              <input\n-                type=\"text\"\n-                value={daysInLocation}\n-                onChange={(e) => setDaysInLocation(e.target.value)}\n-              />\n-            </div>\n-          </>\n-        )}\n-\n-        <div className=\"input-box\">\n-          <label>Picture:</label>\n-          <label className=\"file-input-label\">\n-            <span className=\"file-input-text\">\n-              {fileName || \"Choose a Picture\"}\n-            </span>\n-            <input\n-              className=\"file-input\"\n-              type=\"file\"\n-              accept=\"image/*\"\n-              onChange={handleFileChange}\n-            />\n-          </label>\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Location:</label>\n-          <input\n-            type=\"text\"\n-            value={area}\n-            onChange={(e) => setArea(e.target.value)}\n-          />\n-        </div>\n-\n-        <div className=\"filter-selection-service\">\n-          <label>Type:</label>\n-          <select\n-            value={type}\n-            onChange={(event) => setType(event.target.value)}\n-          >\n-            <option value=\"None\">None</option>\n-            <option value=\"Dog\">Dog</option>\n-            <option value=\"Cat\">Cat</option>\n-            <option value=\"Rabbit\">Rabbit</option>\n-            <option value=\"Bird\">Bird</option>\n-            <option value=\"Fish\">Fish</option>\n-            <option value=\"Other\">Other</option>\n-          </select>\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Email:</label>\n-          <input\n-            type=\"text\"\n-            value={email}\n-            onChange={(e) => setEmail(e.target.value)}\n-          />\n-        </div>\n-\n-        {emailError && (\n-          <p className=\"error-message\">Please provide a valid email address.</p>\n-        )}\n-        {formError && (\n-          <p className=\"error-message\">Please fill out all fields correctly.</p>\n-        )}\n-\n-        <button type=\"submit\" className=\"cta-button\" disabled={isSubmitting}>\n-          {isSubmitting ? \"Submitting...\" : \"Submit Your Pet\"}\n-        </button>\n-\n-        {showPopup && (\n-          <div className=\"popup\">\n-            <div className=\"popup-content\">\n-              <h4>Application Submitted; we'll get in touch with you soon.</h4>\n-            </div>\n-            <button onClick={togglePopup} className=\"close-btn\">\n-              Close <i className=\"fa fa-times\"></i>\n-            </button>\n-          </div>\n-        )}\n-      </form>\n-    </section>\n-  );\n-};\n-\n-export default PostPetSection;*/\n+export default PostPetSection; */\n import React, { useState, useEffect } from \"react\";\n import postPet from \"./images/postPet.png\";\n import { useAuthContext } from \"../../hooks/UseAuthContext\";\n \n@@ -1702,8 +355,9 @@\n \n     setIsSubmitting(true);\n \n     const formData = new FormData();\n+    formData.append(\"petStatus\", petStatus); // Include petStatus\n     formData.append(\"email\", email);\n     formData.append(\"type\", type);\n     formData.append(\"area\", area);\n     formData.append(\"picture\", picture);\n@@ -1762,18 +416,18 @@\n       <div className=\"pet-status-toggle\">\n         <label>\n           <input\n             type=\"radio\"\n-            value=\"Home Pet\"\n+            value=\"HomePet\"\n             checked={petStatus === \"HomePet\"}\n             onChange={() => setPetStatus(\"HomePet\")}\n           />\n           Home Pet\n         </label>\n         <label>\n           <input\n             type=\"radio\"\n-            value=\"Homeless Pet\"\n+            value=\"HomelessPet\"\n             checked={petStatus === \"HomelessPet\"}\n             onChange={() => setPetStatus(\"HomelessPet\")}\n           />\n           Homeless Pet\n@@ -1921,5 +575,6 @@\n     </section>\n   );\n };\n \n-export default PostPetSection; \n+export default PostPetSection;\n+\n"
                },
                {
                    "date": 1734597398523,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -317,9 +317,9 @@\n     }\n   }, [isSubmitting]);\n \n   const togglePopup = () => {\n-    setShowPopup(!showPopup);\n+    setShowPopup((prev) => !prev);\n   };\n \n   const isEmailValid = (email) => {\n     const emailPattern = /^[a-zA-Z0-9._-]+@gmail\\.com$/;\n@@ -336,28 +336,40 @@\n \n   const handleSubmit = async (e) => {\n     e.preventDefault();\n \n+    setEmailError(false);\n+    setFormError(false);\n+\n     if (!isEmailValid(email)) {\n       setEmailError(true);\n       return;\n     }\n \n-    if (\n-      !email ||\n-      !fileName ||\n-      type === \"None\" ||\n-      (petStatus === \"HomePet\" && (!name || !age || !area || !justification || !phone)) ||\n-      (petStatus === \"HomelessPet\" && (!posterName || !phone || !area || !daysInLocation))\n-    ) {\n+    const isHomePetValid =\n+      petStatus === \"HomePet\" &&\n+      name &&\n+      age &&\n+      area &&\n+      justification &&\n+      phone;\n+\n+    const isHomelessPetValid =\n+      petStatus === \"HomelessPet\" &&\n+      posterName &&\n+      phone &&\n+      area &&\n+      daysInLocation;\n+\n+    if (!fileName || type === \"None\" || !(isHomePetValid || isHomelessPetValid)) {\n       setFormError(true);\n       return;\n     }\n \n     setIsSubmitting(true);\n \n     const formData = new FormData();\n-    formData.append(\"petStatus\", petStatus); // Include petStatus\n+    formData.append(\"petStatus\", petStatus);\n     formData.append(\"email\", email);\n     formData.append(\"type\", type);\n     formData.append(\"area\", area);\n     formData.append(\"picture\", picture);\n@@ -382,15 +394,14 @@\n         body: formData,\n       });\n \n       if (!response.ok) {\n-        throw new Error(\"Network response was not ok\");\n+        throw new Error(\"Failed to submit form. Please try again later.\");\n       }\n \n-      console.log(\"Form submitted successfully\");\n+      const result = await response.json();\n+      console.log(\"Form submitted successfully:\", result);\n \n-      setEmailError(false);\n-      setFormError(false);\n       setName(\"\");\n       setAge(\"\");\n       setArea(\"\");\n       setJustification(\"\");\n@@ -402,8 +413,9 @@\n       setDaysInLocation(\"\");\n       togglePopup();\n     } catch (error) {\n       console.error(\"Error submitting form:\", error);\n+      alert(\"Error submitting the form. Please try again later.\");\n     } finally {\n       setIsSubmitting(false);\n     }\n   };\n@@ -577,4 +589,5 @@\n };\n \n export default PostPetSection;\n \n+\n"
                },
                {
                    "date": 1734597698543,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,10 @@\n-/*import React, { useState, useEffect } from \"react\";\n+import React, { useState, useEffect } from \"react\";\n import postPet from \"./images/postPet.png\";\n import { useAuthContext } from \"../../hooks/UseAuthContext\";\n \n const PostPetSection = () => {\n-  const { user } = useAuthContext();\n+  const {user} = useAuthContext();\n   const [petStatus, setPetStatus] = useState(\"\");\n   const [name, setName] = useState(\"\");\n   const [age, setAge] = useState(\"\");\n   const [area, setArea] = useState(\"\");\n@@ -70,9 +70,9 @@\n     formData.append(\"email\", email);\n     formData.append(\"type\", type);\n     formData.append(\"area\", area);\n     formData.append(\"picture\", picture);\n-\n+    formData.append(\"PetStatus\", petStatus);\n     if (petStatus === \"HomePet\") {\n       formData.append(\"name\", name);\n       formData.append(\"age\", age);\n       formData.append(\"justification\", justification);\n@@ -102,8 +102,9 @@\n       setFormError(false);\n       setName(\"\");\n       setAge(\"\");\n       setArea(\"\");\n+      setPetStatus(\"\");\n       setJustification(\"\");\n       setPosterName(\"\");\n       setEmail(user.email);\n       setPhone(\"\");\n@@ -285,309 +286,5 @@\n     </section>\n   );\n };\n \n-export default PostPetSection; */\n-import React, { useState, useEffect } from \"react\";\n-import postPet from \"./images/postPet.png\";\n-import { useAuthContext } from \"../../hooks/UseAuthContext\";\n-\n-const PostPetSection = () => {\n-  const { user } = useAuthContext();\n-  const [petStatus, setPetStatus] = useState(\"\");\n-  const [name, setName] = useState(\"\");\n-  const [age, setAge] = useState(\"\");\n-  const [area, setArea] = useState(\"\");\n-  const [justification, setJustification] = useState(\"\");\n-  const [posterName, setPosterName] = useState(\"\");\n-  const [email, setEmail] = useState(user.email);\n-  const [phone, setPhone] = useState(\"\");\n-  const [daysInLocation, setDaysInLocation] = useState(\"\");\n-  const [formError, setFormError] = useState(false);\n-  const [emailError, setEmailError] = useState(false);\n-  const [showPopup, setShowPopup] = useState(false);\n-  const [type, setType] = useState(\"None\");\n-  const [picture, setPicture] = useState(null);\n-  const [fileName, setFileName] = useState(\"\");\n-  const [isSubmitting, setIsSubmitting] = useState(false);\n-\n-  useEffect(() => {\n-    if (!isSubmitting) {\n-      setEmailError(false);\n-      setFormError(false);\n-    }\n-  }, [isSubmitting]);\n-\n-  const togglePopup = () => {\n-    setShowPopup((prev) => !prev);\n-  };\n-\n-  const isEmailValid = (email) => {\n-    const emailPattern = /^[a-zA-Z0-9._-]+@gmail\\.com$/;\n-    return emailPattern.test(email);\n-  };\n-\n-  const handleFileChange = (e) => {\n-    const selectedFile = e.target.files[0];\n-    if (selectedFile) {\n-      setPicture(selectedFile);\n-      setFileName(selectedFile.name);\n-    }\n-  };\n-\n-  const handleSubmit = async (e) => {\n-    e.preventDefault();\n-\n-    setEmailError(false);\n-    setFormError(false);\n-\n-    if (!isEmailValid(email)) {\n-      setEmailError(true);\n-      return;\n-    }\n-\n-    const isHomePetValid =\n-      petStatus === \"HomePet\" &&\n-      name &&\n-      age &&\n-      area &&\n-      justification &&\n-      phone;\n-\n-    const isHomelessPetValid =\n-      petStatus === \"HomelessPet\" &&\n-      posterName &&\n-      phone &&\n-      area &&\n-      daysInLocation;\n-\n-    if (!fileName || type === \"None\" || !(isHomePetValid || isHomelessPetValid)) {\n-      setFormError(true);\n-      return;\n-    }\n-\n-    setIsSubmitting(true);\n-\n-    const formData = new FormData();\n-    formData.append(\"petStatus\", petStatus);\n-    formData.append(\"email\", email);\n-    formData.append(\"type\", type);\n-    formData.append(\"area\", area);\n-    formData.append(\"picture\", picture);\n-\n-    if (petStatus === \"HomePet\") {\n-      formData.append(\"name\", name);\n-      formData.append(\"age\", age);\n-      formData.append(\"justification\", justification);\n-      formData.append(\"phone\", phone);\n-    } else {\n-      formData.append(\"posterName\", posterName);\n-      formData.append(\"phone\", phone);\n-      formData.append(\"daysInLocation\", daysInLocation);\n-    }\n-\n-    try {\n-      const response = await fetch(\"http://localhost:4000/services\", {\n-        method: \"POST\",\n-        headers: {\n-          Authorization: `Bearer ${user.token}`,\n-        },\n-        body: formData,\n-      });\n-\n-      if (!response.ok) {\n-        throw new Error(\"Failed to submit form. Please try again later.\");\n-      }\n-\n-      const result = await response.json();\n-      console.log(\"Form submitted successfully:\", result);\n-\n-      setName(\"\");\n-      setAge(\"\");\n-      setArea(\"\");\n-      setJustification(\"\");\n-      setPosterName(\"\");\n-      setEmail(user.email);\n-      setPhone(\"\");\n-      setPicture(null);\n-      setFileName(\"\");\n-      setDaysInLocation(\"\");\n-      togglePopup();\n-    } catch (error) {\n-      console.error(\"Error submitting form:\", error);\n-      alert(\"Error submitting the form. Please try again later.\");\n-    } finally {\n-      setIsSubmitting(false);\n-    }\n-  };\n-\n-  return (\n-    <section className=\"post-pet-section\">\n-      <h2>Post a Pet for Adoption</h2>\n-      <img src={postPet} alt=\"Pet Looking for a Home\" />\n-\n-      <div className=\"pet-status-toggle\">\n-        <label>\n-          <input\n-            type=\"radio\"\n-            value=\"HomePet\"\n-            checked={petStatus === \"HomePet\"}\n-            onChange={() => setPetStatus(\"HomePet\")}\n-          />\n-          Home Pet\n-        </label>\n-        <label>\n-          <input\n-            type=\"radio\"\n-            value=\"HomelessPet\"\n-            checked={petStatus === \"HomelessPet\"}\n-            onChange={() => setPetStatus(\"HomelessPet\")}\n-          />\n-          Homeless Pet\n-        </label>\n-      </div>\n-\n-      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n-        {petStatus === \"HomePet\" && (\n-          <>\n-            <div className=\"input-box\">\n-              <label>Name:</label>\n-              <input\n-                type=\"text\"\n-                value={name}\n-                onChange={(e) => setName(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Pet Age:</label>\n-              <input\n-                type=\"text\"\n-                value={age}\n-                onChange={(e) => setAge(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <h3>Justification for giving a pet</h3>\n-              <textarea\n-                rows=\"4\"\n-                value={justification}\n-                onChange={(e) => setJustification(e.target.value)}\n-              ></textarea>\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Ph.No:</label>\n-              <input\n-                type=\"tel\"\n-                value={phone}\n-                onChange={(e) => setPhone(e.target.value)}\n-              />\n-            </div>\n-          </>\n-        )}\n-\n-        {petStatus === \"HomelessPet\" && (\n-          <>\n-            <div className=\"input-box\">\n-              <label>Poster Name:</label>\n-              <input\n-                type=\"text\"\n-                value={posterName}\n-                onChange={(e) => setPosterName(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Ph.No:</label>\n-              <input\n-                type=\"tel\"\n-                value={phone}\n-                onChange={(e) => setPhone(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Days in Location:</label>\n-              <input\n-                type=\"text\"\n-                value={daysInLocation}\n-                onChange={(e) => setDaysInLocation(e.target.value)}\n-              />\n-            </div>\n-          </>\n-        )}\n-\n-        <div className=\"input-box\">\n-          <label>Picture:</label>\n-          <label className=\"file-input-label\">\n-            <span className=\"file-input-text\">\n-              {fileName || \"Choose a Picture\"}\n-            </span>\n-            <input\n-              className=\"file-input\"\n-              type=\"file\"\n-              accept=\"image/*\"\n-              onChange={handleFileChange}\n-            />\n-          </label>\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Location:</label>\n-          <input\n-            type=\"text\"\n-            value={area}\n-            onChange={(e) => setArea(e.target.value)}\n-          />\n-        </div>\n-\n-        <div className=\"filter-selection-service\">\n-          <label>Type:</label>\n-          <select\n-            value={type}\n-            onChange={(event) => setType(event.target.value)}\n-          >\n-            <option value=\"None\">None</option>\n-            <option value=\"Dog\">Dog</option>\n-            <option value=\"Cat\">Cat</option>\n-            <option value=\"Rabbit\">Rabbit</option>\n-            <option value=\"Bird\">Bird</option>\n-            <option value=\"Fish\">Fish</option>\n-            <option value=\"Other\">Other</option>\n-          </select>\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Email:</label>\n-          <input\n-            type=\"text\"\n-            value={email}\n-            onChange={(e) => setEmail(e.target.value)}\n-          />\n-        </div>\n-\n-        {emailError && (\n-          <p className=\"error-message\">Please provide a valid email address.</p>\n-        )}\n-        {formError && (\n-          <p className=\"error-message\">Please fill out all fields correctly.</p>\n-        )}\n-\n-        <button type=\"submit\" className=\"cta-button\" disabled={isSubmitting}>\n-          {isSubmitting ? \"Submitting...\" : \"Submit Your Pet\"}\n-        </button>\n-\n-        {showPopup && (\n-          <div className=\"popup\">\n-            <div className=\"popup-content\">\n-              <h4>Application Submitted; we'll get in touch with you soon.</h4>\n-            </div>\n-            <button onClick={togglePopup} className=\"close-btn\">\n-              Close <i className=\"fa fa-times\"></i>\n-            </button>\n-          </div>\n-        )}\n-      </form>\n-    </section>\n-  );\n-};\n-\n-export default PostPetSection;\n-\n-\n+export default PostPetSection; \n"
                },
                {
                    "date": 1734598325504,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,10 +2,10 @@\n import postPet from \"./images/postPet.png\";\n import { useAuthContext } from \"../../hooks/UseAuthContext\";\n \n const PostPetSection = () => {\n-  const {user} = useAuthContext();\n-  const [petStatus, setPetStatus] = useState(\"\");\n+  const { user } = useAuthContext();\n+  const [petStatus, setPetStatus] = useState(\"Home Pet\");\n   const [name, setName] = useState(\"\");\n   const [age, setAge] = useState(\"\");\n   const [area, setArea] = useState(\"\");\n   const [justification, setJustification] = useState(\"\");\n@@ -70,9 +70,9 @@\n     formData.append(\"email\", email);\n     formData.append(\"type\", type);\n     formData.append(\"area\", area);\n     formData.append(\"picture\", picture);\n-    formData.append(\"PetStatus\", petStatus);\n+\n     if (petStatus === \"HomePet\") {\n       formData.append(\"name\", name);\n       formData.append(\"age\", age);\n       formData.append(\"justification\", justification);\n@@ -102,9 +102,8 @@\n       setFormError(false);\n       setName(\"\");\n       setAge(\"\");\n       setArea(\"\");\n-      setPetStatus(\"\");\n       setJustification(\"\");\n       setPosterName(\"\");\n       setEmail(user.email);\n       setPhone(\"\");\n@@ -172,9 +171,9 @@\n                 onChange={(e) => setJustification(e.target.value)}\n               ></textarea>\n             </div>\n             <div className=\"input-box\">\n-              <label>Ph.No:</label>\n+              <label>Phone No:</label>\n               <input\n                 type=\"tel\"\n                 value={phone}\n                 onChange={(e) => setPhone(e.target.value)}\n@@ -193,9 +192,9 @@\n                 onChange={(e) => setPosterName(e.target.value)}\n               />\n             </div>\n             <div className=\"input-box\">\n-              <label>Ph.No:</label>\n+              <label>Phone No:</label>\n               <input\n                 type=\"tel\"\n                 value={phone}\n                 onChange={(e) => setPhone(e.target.value)}\n@@ -286,5 +285,5 @@\n     </section>\n   );\n };\n \n-export default PostPetSection; \n+export default PostPetSection;\n"
                },
                {
                    "date": 1734599378072,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n import { useAuthContext } from \"../../hooks/UseAuthContext\";\n \n const PostPetSection = () => {\n   const { user } = useAuthContext();\n-  const [petStatus, setPetStatus] = useState(\"Home Pet\");\n+  const [petStatus, setPetStatus] = useState(\"\");\n   const [name, setName] = useState(\"\");\n   const [age, setAge] = useState(\"\");\n   const [area, setArea] = useState(\"\");\n   const [justification, setJustification] = useState(\"\");\n"
                },
                {
                    "date": 1734599753474,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n import { useAuthContext } from \"../../hooks/UseAuthContext\";\n \n const PostPetSection = () => {\n   const { user } = useAuthContext();\n-  const [petStatus, setPetStatus] = useState(\"\");\n+  const [petStatus, setPetStatus] = useState(\"Homeless Pet\");\n   const [name, setName] = useState(\"\");\n   const [age, setAge] = useState(\"\");\n   const [area, setArea] = useState(\"\");\n   const [justification, setJustification] = useState(\"\");\n@@ -56,10 +56,10 @@\n     if (\n       !email ||\n       !fileName ||\n       type === \"None\" ||\n-      (petStatus === \"HomePet\" && (!name || !age || !area || !justification || !phone)) ||\n-      (petStatus === \"HomelessPet\" && (!posterName || !phone || !area || !daysInLocation))\n+      (petStatus === \"Home Pet\" && (!name || !age || !area || !justification || !phone)) ||\n+      (petStatus === \"Homeless Pet\" && (!posterName || !phone || !area || !daysInLocation))\n     ) {\n       setFormError(true);\n       return;\n     }\n@@ -70,10 +70,10 @@\n     formData.append(\"email\", email);\n     formData.append(\"type\", type);\n     formData.append(\"area\", area);\n     formData.append(\"picture\", picture);\n-\n-    if (petStatus === \"HomePet\") {\n+    formData.append(\"petStatus\", petStatus);\n+    if (petStatus === \"Home Pet\") {\n       formData.append(\"name\", name);\n       formData.append(\"age\", age);\n       formData.append(\"justification\", justification);\n       formData.append(\"phone\", phone);\n@@ -96,9 +96,9 @@\n         throw new Error(\"Network response was not ok\");\n       }\n \n       console.log(\"Form submitted successfully\");\n-\n+    \n       setEmailError(false);\n       setFormError(false);\n       setName(\"\");\n       setAge(\"\");\n@@ -127,26 +127,26 @@\n         <label>\n           <input\n             type=\"radio\"\n             value=\"Home Pet\"\n-            checked={petStatus === \"HomePet\"}\n-            onChange={() => setPetStatus(\"HomePet\")}\n+            checked={petStatus === \"Home Pet\"}\n+            onChange={() => setPetStatus(\"Home Pet\")}\n           />\n           Home Pet\n         </label>\n         <label>\n           <input\n             type=\"radio\"\n             value=\"Homeless Pet\"\n-            checked={petStatus === \"HomelessPet\"}\n-            onChange={() => setPetStatus(\"HomelessPet\")}\n+            checked={petStatus === \"Homeless Pet\"}\n+            onChange={() => setPetStatus(\"Homeless Pet\")}\n           />\n           Homeless Pet\n         </label>\n       </div>\n \n       <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n-        {petStatus === \"HomePet\" && (\n+        {petStatus === \"Home Pet\" && (\n           <>\n             <div className=\"input-box\">\n               <label>Name:</label>\n               <input\n@@ -181,9 +181,9 @@\n             </div>\n           </>\n         )}\n \n-        {petStatus === \"HomelessPet\" && (\n+        {petStatus === \"Homeless Pet\" && (\n           <>\n             <div className=\"input-box\">\n               <label>Poster Name:</label>\n               <input\n"
                },
                {
                    "date": 1734600262894,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,10 +3,10 @@\n import { useAuthContext } from \"../../hooks/UseAuthContext\";\n \n const PostPetSection = () => {\n   const { user } = useAuthContext();\n-  const [petStatus, setPetStatus] = useState(\"Homeless Pet\");\n-  const [name, setName] = useState(\"\");\n+  const [petStatus, setPetStatus] = useState(\"Home Pet\");\n+  const [pname, setName] = useState(\"\");\n   const [age, setAge] = useState(\"\");\n   const [area, setArea] = useState(\"\");\n   const [justification, setJustification] = useState(\"\");\n   const [posterName, setPosterName] = useState(\"\");\n@@ -70,11 +70,11 @@\n     formData.append(\"email\", email);\n     formData.append(\"type\", type);\n     formData.append(\"area\", area);\n     formData.append(\"picture\", picture);\n-    formData.append(\"petStatus\", petStatus);\n+\n     if (petStatus === \"Home Pet\") {\n-      formData.append(\"name\", name);\n+      formData.append(\"Pet name\", pname);\n       formData.append(\"age\", age);\n       formData.append(\"justification\", justification);\n       formData.append(\"phone\", phone);\n     } else {\n@@ -96,9 +96,9 @@\n         throw new Error(\"Network response was not ok\");\n       }\n \n       console.log(\"Form submitted successfully\");\n-    \n+\n       setEmailError(false);\n       setFormError(false);\n       setName(\"\");\n       setAge(\"\");\n@@ -150,9 +150,9 @@\n             <div className=\"input-box\">\n               <label>Name:</label>\n               <input\n                 type=\"text\"\n-                value={name}\n+                value={pname}\n                 onChange={(e) => setName(e.target.value)}\n               />\n             </div>\n             <div className=\"input-box\">\n"
                },
                {
                    "date": 1734600373421,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,9 +56,9 @@\n     if (\n       !email ||\n       !fileName ||\n       type === \"None\" ||\n-      (petStatus === \"Home Pet\" && (!name || !age || !area || !justification || !phone)) ||\n+      (petStatus === \"Home Pet\" && (!pname || !age || !area || !justification || !phone)) ||\n       (petStatus === \"Homeless Pet\" && (!posterName || !phone || !area || !daysInLocation))\n     ) {\n       setFormError(true);\n       return;\n"
                },
                {
                    "date": 1734600550107,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -109,8 +109,9 @@\n       setPhone(\"\");\n       setPicture(null);\n       setFileName(\"\");\n       setDaysInLocation(\"\");\n+      setPetStatus(\"\");\n       togglePopup();\n     } catch (error) {\n       console.error(\"Error submitting form:\", error);\n     } finally {\n"
                },
                {
                    "date": 1734601337954,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import React, { useState, useEffect } from \"react\";\n+/*import React, { useState, useEffect } from \"react\";\n import postPet from \"./images/postPet.png\";\n import { useAuthContext } from \"../../hooks/UseAuthContext\";\n \n const PostPetSection = () => {\n@@ -286,5 +286,215 @@\n     </section>\n   );\n };\n \n+export default PostPetSection;*/\n+\n+import React, { useState } from \"react\";\n+import postPet from \"./images/postPet.png\";\n+import { useAuthContext } from \"../../hooks/UseAuthContext\";\n+\n+const PostPetSection = () => {\n+  const { user } = useAuthContext();\n+  const [category, setCategory] = useState(\"Home Pet\");\n+  const [name, setName] = useState(\"\");\n+  const [age, setAge] = useState(\"\");\n+  const [area, setArea] = useState(\"\");\n+  const [justification, setJustification] = useState(\"\");\n+  const [posterName, setPosterName] = useState(user.userName);\n+  const [daysInLocation, setDaysInLocation] = useState(\"\");\n+  const [email, setEmail] = useState(user.email);\n+  const [phone, setPhone] = useState(\"\");\n+  const [picture, setPicture] = useState(null);\n+  const [fileName, setFileName] = useState(\"\");\n+  const [formError, setFormError] = useState(false);\n+  const [isSubmitting, setIsSubmitting] = useState(false);\n+\n+  const handleFileChange = (e) => {\n+    const selectedFile = e.target.files[0];\n+    if (selectedFile) {\n+      setPicture(selectedFile);\n+      setFileName(selectedFile.name);\n+    }\n+  };\n+\n+  const handleSubmit = async (e) => {\n+    e.preventDefault();\n+\n+    if (\n+      (category === \"Home Pet\" && (!name || !age || !area || !justification || !email || !phone || !fileName)) ||\n+      (category === \"Homeless Pet\" && (!posterName || !daysInLocation || !area || !email || !phone || !fileName))\n+    ) {\n+      setFormError(true);\n+      return;\n+    }\n+\n+    setIsSubmitting(true);\n+    const formData = new FormData();\n+    formData.append(\"category\", category);\n+    formData.append(\"email\", email);\n+    formData.append(\"phone\", phone);\n+    formData.append(\"area\", area);\n+    formData.append(\"picture\", picture);\n+\n+    if (category === \"Home Pet\") {\n+      formData.append(\"name\", name);\n+      formData.append(\"age\", age);\n+      formData.append(\"justification\", justification);\n+    } else {\n+      formData.append(\"posterName\", posterName);\n+      formData.append(\"daysInLocation\", daysInLocation);\n+    }\n+\n+    try {\n+      const response = await fetch(\"http://localhost:4000/services\", {\n+        method: \"POST\",\n+        headers: {\n+          Authorization: `Bearer ${user.token}`,\n+        },\n+        body: formData,\n+      });\n+\n+      if (!response.ok) {\n+        throw new Error(\"Network response was not ok\");\n+      }\n+\n+      console.log(\"Form submitted successfully\");\n+      setFormError(false);\n+      setName(\"\");\n+      setAge(\"\");\n+      setArea(\"\");\n+      setJustification(\"\");\n+      setPosterName(user.userName);\n+      setDaysInLocation(\"\");\n+      setEmail(user.email);\n+      setPhone(\"\");\n+      setPicture(null);\n+      setFileName(\"\");\n+    } catch (error) {\n+      console.error(\"Error submitting form:\", error);\n+    } finally {\n+      setIsSubmitting(false);\n+    }\n+  };\n+\n+  return (\n+    <section className=\"post-pet-section\">\n+      <h2>Post a Pet for Adoption</h2>\n+      <img src={postPet} alt=\"Pet Looking for a Home\" />\n+\n+      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n+        <div className=\"input-box\">\n+          <label>Category:</label>\n+          <select value={category} onChange={(e) => setCategory(e.target.value)}>\n+            <option value=\"Home Pet\">Home Pet</option>\n+            <option value=\"Homeless Pet\">Homeless Pet</option>\n+          </select>\n+        </div>\n+\n+        {category === \"Home Pet\" ? (\n+          <>\n+            <div className=\"input-box\">\n+              <label>Pet Name:</label>\n+              <input\n+                type=\"text\"\n+                value={name}\n+                onChange={(e) => setName(e.target.value)}\n+              />\n+            </div>\n+\n+            <div className=\"input-box\">\n+              <label>Pet Age:</label>\n+              <input\n+                type=\"text\"\n+                value={age}\n+                onChange={(e) => setAge(e.target.value)}\n+              />\n+            </div>\n+\n+            <div className=\"input-box\">\n+              <label>Justification for Giving a Pet:</label>\n+              <textarea\n+                rows=\"4\"\n+                value={justification}\n+                onChange={(e) => setJustification(e.target.value)}\n+              ></textarea>\n+            </div>\n+          </>\n+        ) : (\n+          <>\n+            <div className=\"input-box\">\n+              <label>Poster Name:</label>\n+              <input\n+                type=\"text\"\n+                value={posterName}\n+                onChange={(e) => setPosterName(e.target.value)}\n+              />\n+            </div>\n+\n+            <div className=\"input-box\">\n+              <label>Days in Location:</label>\n+              <input\n+                type=\"text\"\n+                value={daysInLocation}\n+                onChange={(e) => setDaysInLocation(e.target.value)}\n+              />\n+            </div>\n+          </>\n+        )}\n+\n+        <div className=\"input-box\">\n+          <label>Location:</label>\n+          <input\n+            type=\"text\"\n+            value={area}\n+            onChange={(e) => setArea(e.target.value)}\n+          />\n+        </div>\n+\n+        <div className=\"input-box\">\n+          <label>Picture:</label>\n+          <label className=\"file-input-label\">\n+            <span className=\"file-input-text\">\n+              {fileName || \"Choose a Picture\"}\n+            </span>\n+            <input\n+              className=\"file-input\"\n+              type=\"file\"\n+              accept=\"image/*\"\n+              onChange={handleFileChange}\n+            />\n+          </label>\n+        </div>\n+\n+        <div className=\"input-box\">\n+          <label>Email:</label>\n+          <input\n+            type=\"text\"\n+            value={email}\n+            onChange={(e) => setEmail(e.target.value)}\n+          />\n+        </div>\n+\n+        <div className=\"input-box\">\n+          <label>Ph.No:</label>\n+          <input\n+            type=\"tel\"\n+            value={phone}\n+            onChange={(e) => setPhone(e.target.value)}\n+          />\n+        </div>\n+\n+        {formError && (\n+          <p className=\"error-message\">Please fill out all required fields.</p>\n+        )}\n+\n+        <button type=\"submit\" className=\"cta-button\" disabled={isSubmitting}>\n+          {isSubmitting ? \"Submitting...\" : \"Submit\"}\n+        </button>\n+      </form>\n+    </section>\n+  );\n+};\n+\n export default PostPetSection;\n+\n"
                },
                {
                    "date": 1734601393197,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,290 @@\n+import React, { useState, useEffect } from \"react\";\n+import postPet from \"./images/postPet.png\";\n+import { useAuthContext } from \"../../hooks/UseAuthContext\";\n+\n+const PostPetSection = () => {\n+  const { user } = useAuthContext();\n+  const [petStatus, setPetStatus] = useState(\"Home Pet\");\n+  const [pname, setName] = useState(\"\");\n+  const [age, setAge] = useState(\"\");\n+  const [area, setArea] = useState(\"\");\n+  const [justification, setJustification] = useState(\"\");\n+  const [posterName, setPosterName] = useState(\"\");\n+  const [email, setEmail] = useState(user.email);\n+  const [phone, setPhone] = useState(\"\");\n+  const [daysInLocation, setDaysInLocation] = useState(\"\");\n+  const [formError, setFormError] = useState(false);\n+  const [emailError, setEmailError] = useState(false);\n+  const [showPopup, setShowPopup] = useState(false);\n+  const [type, setType] = useState(\"None\");\n+  const [picture, setPicture] = useState(null);\n+  const [fileName, setFileName] = useState(\"\");\n+  const [isSubmitting, setIsSubmitting] = useState(false);\n+\n+  useEffect(() => {\n+    if (!isSubmitting) {\n+      setEmailError(false);\n+      setFormError(false);\n+    }\n+  }, [isSubmitting]);\n+\n+  const togglePopup = () => {\n+    setShowPopup(!showPopup);\n+  };\n+\n+  const isEmailValid = (email) => {\n+    const emailPattern = /^[a-zA-Z0-9._-]+@gmail\\.com$/;\n+    return emailPattern.test(email);\n+  };\n+\n+  const handleFileChange = (e) => {\n+    const selectedFile = e.target.files[0];\n+    if (selectedFile) {\n+      setPicture(selectedFile);\n+      setFileName(selectedFile.name);\n+    }\n+  };\n+\n+  const handleSubmit = async (e) => {\n+    e.preventDefault();\n+\n+    if (!isEmailValid(email)) {\n+      setEmailError(true);\n+      return;\n+    }\n+\n+    if (\n+      !email ||\n+      !fileName ||\n+      type === \"None\" ||\n+      (petStatus === \"Home Pet\" && (!pname || !age || !area || !justification || !phone)) ||\n+      (petStatus === \"Homeless Pet\" && (!posterName || !phone || !area || !daysInLocation))\n+    ) {\n+      setFormError(true);\n+      return;\n+    }\n+\n+    setIsSubmitting(true);\n+\n+    const formData = new FormData();\n+    formData.append(\"email\", email);\n+    formData.append(\"type\", type);\n+    formData.append(\"area\", area);\n+    formData.append(\"picture\", picture);\n+\n+    if (petStatus === \"Home Pet\") {\n+      formData.append(\"Pet name\", pname);\n+      formData.append(\"age\", age);\n+      formData.append(\"justification\", justification);\n+      formData.append(\"phone\", phone);\n+    } else {\n+      formData.append(\"posterName\", posterName);\n+      formData.append(\"phone\", phone);\n+      formData.append(\"daysInLocation\", daysInLocation);\n+    }\n+\n+    try {\n+      const response = await fetch(\"http://localhost:4000/services\", {\n+        method: \"POST\",\n+        headers: {\n+          Authorization: `Bearer ${user.token}`,\n+        },\n+        body: formData,\n+      });\n+\n+      if (!response.ok) {\n+        throw new Error(\"Network response was not ok\");\n+      }\n+\n+      console.log(\"Form submitted successfully\");\n+\n+      setEmailError(false);\n+      setFormError(false);\n+      setName(\"\");\n+      setAge(\"\");\n+      setArea(\"\");\n+      setJustification(\"\");\n+      setPosterName(\"\");\n+      setEmail(user.email);\n+      setPhone(\"\");\n+      setPicture(null);\n+      setFileName(\"\");\n+      setDaysInLocation(\"\");\n+      setPetStatus(\"\");\n+      togglePopup();\n+    } catch (error) {\n+      console.error(\"Error submitting form:\", error);\n+    } finally {\n+      setIsSubmitting(false);\n+    }\n+  };\n+\n+  return (\n+    <section className=\"post-pet-section\">\n+      <h2>Post a Pet for Adoption</h2>\n+      <img src={postPet} alt=\"Pet Looking for a Home\" />\n+\n+      <div className=\"pet-status-toggle\">\n+        <label>\n+          <input\n+            type=\"radio\"\n+            value=\"Home Pet\"\n+            checked={petStatus === \"Home Pet\"}\n+            onChange={() => setPetStatus(\"Home Pet\")}\n+          />\n+          Home Pet\n+        </label>\n+        <label>\n+          <input\n+            type=\"radio\"\n+            value=\"Homeless Pet\"\n+            checked={petStatus === \"Homeless Pet\"}\n+            onChange={() => setPetStatus(\"Homeless Pet\")}\n+          />\n+          Homeless Pet\n+        </label>\n+      </div>\n+\n+      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n+        {petStatus === \"Home Pet\" && (\n+          <>\n+            <div className=\"input-box\">\n+              <label>Name:</label>\n+              <input\n+                type=\"text\"\n+                value={pname}\n+                onChange={(e) => setName(e.target.value)}\n+              />\n+            </div>\n+            <div className=\"input-box\">\n+              <label>Pet Age:</label>\n+              <input\n+                type=\"text\"\n+                value={age}\n+                onChange={(e) => setAge(e.target.value)}\n+              />\n+            </div>\n+            <div className=\"input-box\">\n+              <h3>Justification for giving a pet</h3>\n+              <textarea\n+                rows=\"4\"\n+                value={justification}\n+                onChange={(e) => setJustification(e.target.value)}\n+              ></textarea>\n+            </div>\n+            <div className=\"input-box\">\n+              <label>Phone No:</label>\n+              <input\n+                type=\"tel\"\n+                value={phone}\n+                onChange={(e) => setPhone(e.target.value)}\n+              />\n+            </div>\n+          </>\n+        )}\n+\n+        {petStatus === \"Homeless Pet\" && (\n+          <>\n+            <div className=\"input-box\">\n+              <label>Poster Name:</label>\n+              <input\n+                type=\"text\"\n+                value={posterName}\n+                onChange={(e) => setPosterName(e.target.value)}\n+              />\n+            </div>\n+            <div className=\"input-box\">\n+              <label>Phone No:</label>\n+              <input\n+                type=\"tel\"\n+                value={phone}\n+                onChange={(e) => setPhone(e.target.value)}\n+              />\n+            </div>\n+            <div className=\"input-box\">\n+              <label>Days in Location:</label>\n+              <input\n+                type=\"text\"\n+                value={daysInLocation}\n+                onChange={(e) => setDaysInLocation(e.target.value)}\n+              />\n+            </div>\n+          </>\n+        )}\n+\n+        <div className=\"input-box\">\n+          <label>Picture:</label>\n+          <label className=\"file-input-label\">\n+            <span className=\"file-input-text\">\n+              {fileName || \"Choose a Picture\"}\n+            </span>\n+            <input\n+              className=\"file-input\"\n+              type=\"file\"\n+              accept=\"image/*\"\n+              onChange={handleFileChange}\n+            />\n+          </label>\n+        </div>\n+\n+        <div className=\"input-box\">\n+          <label>Location:</label>\n+          <input\n+            type=\"text\"\n+            value={area}\n+            onChange={(e) => setArea(e.target.value)}\n+          />\n+        </div>\n+\n+        <div className=\"filter-selection-service\">\n+          <label>Type:</label>\n+          <select\n+            value={type}\n+            onChange={(event) => setType(event.target.value)}\n+          >\n+            <option value=\"None\">None</option>\n+            <option value=\"Dog\">Dog</option>\n+            <option value=\"Cat\">Cat</option>\n+            <option value=\"Rabbit\">Rabbit</option>\n+            <option value=\"Bird\">Bird</option>\n+            <option value=\"Fish\">Fish</option>\n+            <option value=\"Other\">Other</option>\n+          </select>\n+        </div>\n+\n+        <div className=\"input-box\">\n+          <label>Email:</label>\n+          <input\n+            type=\"text\"\n+            value={email}\n+            onChange={(e) => setEmail(e.target.value)}\n+          />\n+        </div>\n+\n+        {emailError && (\n+          <p className=\"error-message\">Please provide a valid email address.</p>\n+        )}\n+        {formError && (\n+          <p className=\"error-message\">Please fill out all fields correctly.</p>\n+        )}\n+\n+        <button type=\"submit\" className=\"cta-button\" disabled={isSubmitting}>\n+          {isSubmitting ? \"Submitting...\" : \"Submit Your Pet\"}\n+        </button>\n+\n+        {showPopup && (\n+          <div className=\"popup\">\n+            <div className=\"popup-content\">\n+              <h4>Application Submitted; we'll get in touch with you soon.</h4>\n+            </div>\n+            <button onClick={togglePopup} className=\"close-btn\">\n+              Close <i className=\"fa fa-times\"></i>\n+            </button>\n+          </div>\n+        )}\n+      </form>\n+    </section>\n+  );\n+};\n+\n+export default PostPetSection;\n"
                },
                {
                    "date": 1734615413881,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,26 +1,25 @@\n import React, { useState, useEffect } from \"react\";\n import postPet from \"./images/postPet.png\";\n import { useAuthContext } from \"../../hooks/UseAuthContext\";\n-\n const PostPetSection = () => {\n-  const { user } = useAuthContext();\n-  const [petStatus, setPetStatus] = useState(\"Home Pet\");\n-  const [pname, setName] = useState(\"\");\n-  const [age, setAge] = useState(\"\");\n-  const [area, setArea] = useState(\"\");\n-  const [justification, setJustification] = useState(\"\");\n-  const [posterName, setPosterName] = useState(\"\");\n-  const [email, setEmail] = useState(user.email);\n-  const [phone, setPhone] = useState(\"\");\n-  const [daysInLocation, setDaysInLocation] = useState(\"\");\n-  const [formError, setFormError] = useState(false);\n-  const [emailError, setEmailError] = useState(false);\n-  const [showPopup, setShowPopup] = useState(false);\n-  const [type, setType] = useState(\"None\");\n-  const [picture, setPicture] = useState(null);\n-  const [fileName, setFileName] = useState(\"\");\n-  const [isSubmitting, setIsSubmitting] = useState(false);\n+const { user } = useAuthContext();\n+const [petStatus, setPetStatus] = useState(\"Home Pet\");\n+const [name, setName] = useState(\"\");\n+const [age, setAge] = useState(\"\");\n+const [area, setArea] = useState(\"\");\n+const [justification, setJustification] = useState(\"\");\n+const [posterName, setPosterName] = useState(\"\");\n+const [email, setEmail] = useState(user.email);\n+const [phone, setPhone] = useState(\"\");\n+const [daysInLocation, setDaysInLocation] = useState(\"\");\n+const [formError, setFormError] = useState(false);\n+const [emailError, setEmailError] = useState(false);\n+const [showPopup, setShowPopup] = useState(false);\n+const [type, setType] = useState(\"None\");\n+const [picture, setPicture] = useState(null);\n+const [fileName, setFileName] = useState(\"\");\n+const [isSubmitting, setIsSubmitting] = useState(false);\n \n   useEffect(() => {\n     if (!isSubmitting) {\n       setEmailError(false);\n@@ -56,9 +55,9 @@\n     if (\n       !email ||\n       !fileName ||\n       type === \"None\" ||\n-      (petStatus === \"Home Pet\" && (!pname || !age || !area || !justification || !phone)) ||\n+      (petStatus === \"Home Pet\" && (!name || !age || !area || !justification || !phone)) ||\n       (petStatus === \"Homeless Pet\" && (!posterName || !phone || !area || !daysInLocation))\n     ) {\n       setFormError(true);\n       return;\n@@ -72,9 +71,9 @@\n     formData.append(\"area\", area);\n     formData.append(\"picture\", picture);\n \n     if (petStatus === \"Home Pet\") {\n-      formData.append(\"Pet name\", pname);\n+      formData.append(\"name\", name);\n       formData.append(\"age\", age);\n       formData.append(\"justification\", justification);\n       formData.append(\"phone\", phone);\n     } else {\n@@ -109,9 +108,8 @@\n       setPhone(\"\");\n       setPicture(null);\n       setFileName(\"\");\n       setDaysInLocation(\"\");\n-      setPetStatus(\"\");\n       togglePopup();\n     } catch (error) {\n       console.error(\"Error submitting form:\", error);\n     } finally {\n@@ -151,9 +149,9 @@\n             <div className=\"input-box\">\n               <label>Name:</label>\n               <input\n                 type=\"text\"\n-                value={pname}\n+                value={name}\n                 onChange={(e) => setName(e.target.value)}\n               />\n             </div>\n             <div className=\"input-box\">\n@@ -287,504 +285,4 @@\n   );\n };\n \n export default PostPetSection;\n-/*import React, { useState, useEffect } from \"react\";\n-import postPet from \"./images/postPet.png\";\n-import { useAuthContext } from \"../../hooks/UseAuthContext\";\n-\n-const PostPetSection = () => {\n-  const { user } = useAuthContext();\n-  const [petStatus, setPetStatus] = useState(\"Home Pet\");\n-  const [pname, setName] = useState(\"\");\n-  const [age, setAge] = useState(\"\");\n-  const [area, setArea] = useState(\"\");\n-  const [justification, setJustification] = useState(\"\");\n-  const [posterName, setPosterName] = useState(\"\");\n-  const [email, setEmail] = useState(user.email);\n-  const [phone, setPhone] = useState(\"\");\n-  const [daysInLocation, setDaysInLocation] = useState(\"\");\n-  const [formError, setFormError] = useState(false);\n-  const [emailError, setEmailError] = useState(false);\n-  const [showPopup, setShowPopup] = useState(false);\n-  const [type, setType] = useState(\"None\");\n-  const [picture, setPicture] = useState(null);\n-  const [fileName, setFileName] = useState(\"\");\n-  const [isSubmitting, setIsSubmitting] = useState(false);\n-\n-  useEffect(() => {\n-    if (!isSubmitting) {\n-      setEmailError(false);\n-      setFormError(false);\n-    }\n-  }, [isSubmitting]);\n-\n-  const togglePopup = () => {\n-    setShowPopup(!showPopup);\n-  };\n-\n-  const isEmailValid = (email) => {\n-    const emailPattern = /^[a-zA-Z0-9._-]+@gmail\\.com$/;\n-    return emailPattern.test(email);\n-  };\n-\n-  const handleFileChange = (e) => {\n-    const selectedFile = e.target.files[0];\n-    if (selectedFile) {\n-      setPicture(selectedFile);\n-      setFileName(selectedFile.name);\n-    }\n-  };\n-\n-  const handleSubmit = async (e) => {\n-    e.preventDefault();\n-\n-    if (!isEmailValid(email)) {\n-      setEmailError(true);\n-      return;\n-    }\n-\n-    if (\n-      !email ||\n-      !fileName ||\n-      type === \"None\" ||\n-      (petStatus === \"Home Pet\" && (!pname || !age || !area || !justification || !phone)) ||\n-      (petStatus === \"Homeless Pet\" && (!posterName || !phone || !area || !daysInLocation))\n-    ) {\n-      setFormError(true);\n-      return;\n-    }\n-\n-    setIsSubmitting(true);\n-\n-    const formData = new FormData();\n-    formData.append(\"email\", email);\n-    formData.append(\"type\", type);\n-    formData.append(\"area\", area);\n-    formData.append(\"picture\", picture);\n-\n-    if (petStatus === \"Home Pet\") {\n-      formData.append(\"Pet name\", pname);\n-      formData.append(\"age\", age);\n-      formData.append(\"justification\", justification);\n-      formData.append(\"phone\", phone);\n-    } else {\n-      formData.append(\"posterName\", posterName);\n-      formData.append(\"phone\", phone);\n-      formData.append(\"daysInLocation\", daysInLocation);\n-    }\n-\n-    try {\n-      const response = await fetch(\"http://localhost:4000/services\", {\n-        method: \"POST\",\n-        headers: {\n-          Authorization: `Bearer ${user.token}`,\n-        },\n-        body: formData,\n-      });\n-\n-      if (!response.ok) {\n-        throw new Error(\"Network response was not ok\");\n-      }\n-\n-      console.log(\"Form submitted successfully\");\n-\n-      setEmailError(false);\n-      setFormError(false);\n-      setName(\"\");\n-      setAge(\"\");\n-      setArea(\"\");\n-      setJustification(\"\");\n-      setPosterName(\"\");\n-      setEmail(user.email);\n-      setPhone(\"\");\n-      setPicture(null);\n-      setFileName(\"\");\n-      setDaysInLocation(\"\");\n-      setPetStatus(\"\");\n-      togglePopup();\n-    } catch (error) {\n-      console.error(\"Error submitting form:\", error);\n-    } finally {\n-      setIsSubmitting(false);\n-    }\n-  };\n-\n-  return (\n-    <section className=\"post-pet-section\">\n-      <h2>Post a Pet for Adoption</h2>\n-      <img src={postPet} alt=\"Pet Looking for a Home\" />\n-\n-      <div className=\"pet-status-toggle\">\n-        <label>\n-          <input\n-            type=\"radio\"\n-            value=\"Home Pet\"\n-            checked={petStatus === \"Home Pet\"}\n-            onChange={() => setPetStatus(\"Home Pet\")}\n-          />\n-          Home Pet\n-        </label>\n-        <label>\n-          <input\n-            type=\"radio\"\n-            value=\"Homeless Pet\"\n-            checked={petStatus === \"Homeless Pet\"}\n-            onChange={() => setPetStatus(\"Homeless Pet\")}\n-          />\n-          Homeless Pet\n-        </label>\n-      </div>\n-\n-      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n-        {petStatus === \"Home Pet\" && (\n-          <>\n-            <div className=\"input-box\">\n-              <label>Name:</label>\n-              <input\n-                type=\"text\"\n-                value={pname}\n-                onChange={(e) => setName(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Pet Age:</label>\n-              <input\n-                type=\"text\"\n-                value={age}\n-                onChange={(e) => setAge(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <h3>Justification for giving a pet</h3>\n-              <textarea\n-                rows=\"4\"\n-                value={justification}\n-                onChange={(e) => setJustification(e.target.value)}\n-              ></textarea>\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Phone No:</label>\n-              <input\n-                type=\"tel\"\n-                value={phone}\n-                onChange={(e) => setPhone(e.target.value)}\n-              />\n-            </div>\n-          </>\n-        )}\n-\n-        {petStatus === \"Homeless Pet\" && (\n-          <>\n-            <div className=\"input-box\">\n-              <label>Poster Name:</label>\n-              <input\n-                type=\"text\"\n-                value={posterName}\n-                onChange={(e) => setPosterName(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Phone No:</label>\n-              <input\n-                type=\"tel\"\n-                value={phone}\n-                onChange={(e) => setPhone(e.target.value)}\n-              />\n-            </div>\n-            <div className=\"input-box\">\n-              <label>Days in Location:</label>\n-              <input\n-                type=\"text\"\n-                value={daysInLocation}\n-                onChange={(e) => setDaysInLocation(e.target.value)}\n-              />\n-            </div>\n-          </>\n-        )}\n-\n-        <div className=\"input-box\">\n-          <label>Picture:</label>\n-          <label className=\"file-input-label\">\n-            <span className=\"file-input-text\">\n-              {fileName || \"Choose a Picture\"}\n-            </span>\n-            <input\n-              className=\"file-input\"\n-              type=\"file\"\n-              accept=\"image/*\"\n-              onChange={handleFileChange}\n-            />\n-          </label>\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Location:</label>\n-          <input\n-            type=\"text\"\n-            value={area}\n-            onChange={(e) => setArea(e.target.value)}\n-          />\n-        </div>\n-\n-        <div className=\"filter-selection-service\">\n-          <label>Type:</label>\n-          <select\n-            value={type}\n-            onChange={(event) => setType(event.target.value)}\n-          >\n-            <option value=\"None\">None</option>\n-            <option value=\"Dog\">Dog</option>\n-            <option value=\"Cat\">Cat</option>\n-            <option value=\"Rabbit\">Rabbit</option>\n-            <option value=\"Bird\">Bird</option>\n-            <option value=\"Fish\">Fish</option>\n-            <option value=\"Other\">Other</option>\n-          </select>\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Email:</label>\n-          <input\n-            type=\"text\"\n-            value={email}\n-            onChange={(e) => setEmail(e.target.value)}\n-          />\n-        </div>\n-\n-        {emailError && (\n-          <p className=\"error-message\">Please provide a valid email address.</p>\n-        )}\n-        {formError && (\n-          <p className=\"error-message\">Please fill out all fields correctly.</p>\n-        )}\n-\n-        <button type=\"submit\" className=\"cta-button\" disabled={isSubmitting}>\n-          {isSubmitting ? \"Submitting...\" : \"Submit Your Pet\"}\n-        </button>\n-\n-        {showPopup && (\n-          <div className=\"popup\">\n-            <div className=\"popup-content\">\n-              <h4>Application Submitted; we'll get in touch with you soon.</h4>\n-            </div>\n-            <button onClick={togglePopup} className=\"close-btn\">\n-              Close <i className=\"fa fa-times\"></i>\n-            </button>\n-          </div>\n-        )}\n-      </form>\n-    </section>\n-  );\n-};\n-\n-export default PostPetSection;*/\n-\n-import React, { useState } from \"react\";\n-import postPet from \"./images/postPet.png\";\n-import { useAuthContext } from \"../../hooks/UseAuthContext\";\n-\n-const PostPetSection = () => {\n-  const { user } = useAuthContext();\n-  const [category, setCategory] = useState(\"Home Pet\");\n-  const [name, setName] = useState(\"\");\n-  const [age, setAge] = useState(\"\");\n-  const [area, setArea] = useState(\"\");\n-  const [justification, setJustification] = useState(\"\");\n-  const [posterName, setPosterName] = useState(user.userName);\n-  const [daysInLocation, setDaysInLocation] = useState(\"\");\n-  const [email, setEmail] = useState(user.email);\n-  const [phone, setPhone] = useState(\"\");\n-  const [picture, setPicture] = useState(null);\n-  const [fileName, setFileName] = useState(\"\");\n-  const [formError, setFormError] = useState(false);\n-  const [isSubmitting, setIsSubmitting] = useState(false);\n-\n-  const handleFileChange = (e) => {\n-    const selectedFile = e.target.files[0];\n-    if (selectedFile) {\n-      setPicture(selectedFile);\n-      setFileName(selectedFile.name);\n-    }\n-  };\n-\n-  const handleSubmit = async (e) => {\n-    e.preventDefault();\n-\n-    if (\n-      (category === \"Home Pet\" && (!name || !age || !area || !justification || !email || !phone || !fileName)) ||\n-      (category === \"Homeless Pet\" && (!posterName || !daysInLocation || !area || !email || !phone || !fileName))\n-    ) {\n-      setFormError(true);\n-      return;\n-    }\n-\n-    setIsSubmitting(true);\n-    const formData = new FormData();\n-    formData.append(\"category\", category);\n-    formData.append(\"email\", email);\n-    formData.append(\"phone\", phone);\n-    formData.append(\"area\", area);\n-    formData.append(\"picture\", picture);\n-\n-    if (category === \"Home Pet\") {\n-      formData.append(\"name\", name);\n-      formData.append(\"age\", age);\n-      formData.append(\"justification\", justification);\n-    } else {\n-      formData.append(\"posterName\", posterName);\n-      formData.append(\"daysInLocation\", daysInLocation);\n-    }\n-\n-    try {\n-      const response = await fetch(\"http://localhost:4000/services\", {\n-        method: \"POST\",\n-        headers: {\n-          Authorization: `Bearer ${user.token}`,\n-        },\n-        body: formData,\n-      });\n-\n-      if (!response.ok) {\n-        throw new Error(\"Network response was not ok\");\n-      }\n-\n-      console.log(\"Form submitted successfully\");\n-      setFormError(false);\n-      setName(\"\");\n-      setAge(\"\");\n-      setArea(\"\");\n-      setJustification(\"\");\n-      setPosterName(user.userName);\n-      setDaysInLocation(\"\");\n-      setEmail(user.email);\n-      setPhone(\"\");\n-      setPicture(null);\n-      setFileName(\"\");\n-    } catch (error) {\n-      console.error(\"Error submitting form:\", error);\n-    } finally {\n-      setIsSubmitting(false);\n-    }\n-  };\n-\n-  return (\n-    <section className=\"post-pet-section\">\n-      <h2>Post a Pet for Adoption</h2>\n-      <img src={postPet} alt=\"Pet Looking for a Home\" />\n-\n-      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n-        <div className=\"input-box\">\n-          <label>Category:</label>\n-          <select value={category} onChange={(e) => setCategory(e.target.value)}>\n-            <option value=\"Home Pet\">Home Pet</option>\n-            <option value=\"Homeless Pet\">Homeless Pet</option>\n-          </select>\n-        </div>\n-\n-        {category === \"Home Pet\" ? (\n-          <>\n-            <div className=\"input-box\">\n-              <label>Pet Name:</label>\n-              <input\n-                type=\"text\"\n-                value={name}\n-                onChange={(e) => setName(e.target.value)}\n-              />\n-            </div>\n-\n-            <div className=\"input-box\">\n-              <label>Pet Age:</label>\n-              <input\n-                type=\"text\"\n-                value={age}\n-                onChange={(e) => setAge(e.target.value)}\n-              />\n-            </div>\n-\n-            <div className=\"input-box\">\n-              <label>Justification for Giving a Pet:</label>\n-              <textarea\n-                rows=\"4\"\n-                value={justification}\n-                onChange={(e) => setJustification(e.target.value)}\n-              ></textarea>\n-            </div>\n-          </>\n-        ) : (\n-          <>\n-            <div className=\"input-box\">\n-              <label>Poster Name:</label>\n-              <input\n-                type=\"text\"\n-                value={posterName}\n-                onChange={(e) => setPosterName(e.target.value)}\n-              />\n-            </div>\n-\n-            <div className=\"input-box\">\n-              <label>Days in Location:</label>\n-              <input\n-                type=\"text\"\n-                value={daysInLocation}\n-                onChange={(e) => setDaysInLocation(e.target.value)}\n-              />\n-            </div>\n-          </>\n-        )}\n-\n-        <div className=\"input-box\">\n-          <label>Location:</label>\n-          <input\n-            type=\"text\"\n-            value={area}\n-            onChange={(e) => setArea(e.target.value)}\n-          />\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Picture:</label>\n-          <label className=\"file-input-label\">\n-            <span className=\"file-input-text\">\n-              {fileName || \"Choose a Picture\"}\n-            </span>\n-            <input\n-              className=\"file-input\"\n-              type=\"file\"\n-              accept=\"image/*\"\n-              onChange={handleFileChange}\n-            />\n-          </label>\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Email:</label>\n-          <input\n-            type=\"text\"\n-            value={email}\n-            onChange={(e) => setEmail(e.target.value)}\n-          />\n-        </div>\n-\n-        <div className=\"input-box\">\n-          <label>Ph.No:</label>\n-          <input\n-            type=\"tel\"\n-            value={phone}\n-            onChange={(e) => setPhone(e.target.value)}\n-          />\n-        </div>\n-\n-        {formError && (\n-          <p className=\"error-message\">Please fill out all required fields.</p>\n-        )}\n-\n-        <button type=\"submit\" className=\"cta-button\" disabled={isSubmitting}>\n-          {isSubmitting ? \"Submitting...\" : \"Submit\"}\n-        </button>\n-      </form>\n-    </section>\n-  );\n-};\n-\n-export default PostPetSection;\n-\n"
                }
            ],
            "date": 1734596242303,
            "name": "Commit-0",
            "content": "/*import React, { useState, useEffect } from \"react\";\nimport postPet from \"./images/postPet.png\";\nimport { useAuthContext } from \"../../hooks/UseAuthContext\";\n\nconst PostPetSection = () => {\n  const {user} = useAuthContext()\n  const [name, setName] = useState(user.userName);\n  const [age, setAge] = useState(\"\");\n  const [area, setArea] = useState(\"\");\n  const [justification, setJustification] = useState(\"\");\n  const [email, setEmail] = useState(user.email);\n  const [phone, setPhone] = useState(\"\");\n  const [formError, setFormError] = useState(false);\n  const [emailError, setEmailError] = useState(false);\n  const [ageError, setAgeError] = useState(false);\n  const [showPopup, setShowPopup] = useState(false);\n  const [type, setType] = useState(\"None\");\n  const [picture, setPicture] = useState(null);\n  const [fileName, setFileName] = useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false); \n\n  useEffect(() => {\n    if (!isSubmitting) {\n      setEmailError(false);\n      setAgeError(false);\n      setFormError(false);\n    }\n  }, [isSubmitting]);\n\n  const togglePopup = () => {\n    setShowPopup(!showPopup);\n  };\n\n  const isEmailValid = (email) => {\n    const emailPattern = /^[a-zA-Z0-9._-]+@gmail\\.com$/;\n    return emailPattern.test(email);\n  };\n\n  const handleFileChange = (e) => {\n    const selectedFile = e.target.files[0];\n    if (selectedFile) {\n      setPicture(selectedFile);\n      setFileName(selectedFile.name);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (\n      !name ||\n      !age ||\n      !area ||\n      !justification ||\n      !email ||\n      !phone ||\n      !fileName ||\n      type === \"None\" ||\n      ageError\n    ) {\n      setFormError(true);\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"age\", age);\n    formData.append(\"area\", area);\n    formData.append(\"justification\", justification);\n    formData.append(\"email\", email);\n    formData.append(\"phone\", phone);\n    formData.append(\"type\", type);\n\n    if (picture) {\n      formData.append(\"picture\", picture);\n    }\n\n    try {\n      const response = await fetch(\"http://localhost:4000/services\", {\n        method: \"POST\",\n        headers: {\n          'Authorization': `Bearer ${user.token}`\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Network response was not ok\");\n      }\n\n      console.log(\"Form submitted successfully\");\n\n      setEmailError(false);\n      setFormError(false);\n      setName(\"\");\n      setAge(\"\");\n      setArea(\"\");\n      setJustification(\"\");\n      setEmail(\"\");\n      setPhone(\"\");\n      setPicture(null);\n      setFileName(\"\");\n      togglePopup();\n    } catch (error) {\n      console.error(\"Error submitting form:\", error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n\n  return (\n    <section className=\"post-pet-section\">\n      <h2>Post a Pet for Adoption</h2>\n      <img src={postPet} alt=\"Pet Looking for a Home\" />\n\n      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n        <div className=\"input-box\">\n          <label>Name:</label>\n          <input\n            type=\"text\"\n            value={name}\n          />\n        </div>\n\n        <div className=\"input-box\">\n          <label>Pet Age:</label>\n          <input\n            type=\"text\"\n            value={age}\n            onChange={(e) => {setAge(e.target.value);}}\n          />\n        </div>\n\n        <div className=\"input-box\">\n          <label>Picture:</label>\n          <label className=\"file-input-label\">\n            <span className=\"file-input-text\">\n              {fileName || \"Choose a Picture\"}\n            </span>\n            <input\n              className=\"file-input\"\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleFileChange}\n            />\n          </label>\n        </div>\n\n        <div className=\"input-box\">\n          <label>Location:</label>\n          <input\n            type=\"text\"\n            value={area}\n            onChange={(e) => setArea(e.target.value)}\n          />\n        </div>\n\n        <div className=\"filter-selection-service\">\n          <label>Type:</label>\n          <select\n            value={type}\n            onChange={(event) => setType(event.target.value)}\n          >\n            <option value=\"None\">None</option>\n            <option value=\"Dog\">Dog</option>\n            <option value=\"Cat\">Cat</option>\n            <option value=\"Rabbit\">Rabbit</option>\n            <option value=\"Bird\">Bird</option>\n            <option value=\"Fish\">Fish</option>\n            <option value=\"Other\">Other</option>\n          </select>\n        </div>\n\n        <div className=\"input-box\">\n          <h3>Justification for giving a pet</h3>\n          <textarea\n            rows=\"4\"\n            value={justification}\n            onChange={(e) => setJustification(e.target.value)}\n          ></textarea>\n        </div>\n\n        <h3>Contact Information</h3>\n\n        <div className=\"input-box\">\n          <label>Email:</label>\n          <input\n            type=\"text\"\n            value={email}\n          />\n        </div>\n\n        <div className=\"input-box\">\n          <label>Ph.No:</label>\n          <input\n            type=\"tel\"\n            value={phone}\n            onChange={(e) => setPhone(e.target.value)}\n          />\n        </div>\n\n        {emailError && (\n          <p className=\"error-message\">Please provide a valid email address.</p>\n        )}\n        {formError && (\n          <p className=\"error-message\">Please fill out all fields correctly.</p>\n        )}\n\n        <button type=\"submit\" className=\"cta-button\" disabled={isSubmitting}>\n          {isSubmitting ? \"Submitting...\" : \"Submit Your Pet\"}\n        </button>\n\n        {showPopup && (\n          <div className=\"popup\">\n            <div className=\"popup-content\">\n              <h4>Application Submitted; we'll get in touch with you soon.</h4>\n            </div>\n            <button onClick={togglePopup} className=\"close-btn\">\n              Close <i className=\"fa fa-times\"></i>\n            </button>\n          </div>\n        )}\n      </form>\n    </section>\n  );\n};\n\nexport default PostPetSection; */\n\n/*import React, { useState, useEffect } from \"react\";\nimport postPet from \"./images/postPet.png\";\nimport { useAuthContext } from \"../../hooks/UseAuthContext\";\n\nconst PostPetSection = () => {\n  const {user} = useAuthContext();\n  const [name, setName] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [area, setArea] = useState(\"\");\n  const [justification, setJustification] = useState(\"\");\n  const [email, setEmail] = useState(user.email);\n  const [phone, setPhone] = useState(\"\");\n  const [formError, setFormError] = useState(false);\n  const [emailError, setEmailError] = useState(false);\n  const [ageError, setAgeError] = useState(false);\n  const [showPopup, setShowPopup] = useState(false);\n  const [type, setType] = useState(\"None\");\n  const [picture, setPicture] = useState(null);\n  const [fileName, setFileName] = useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  useEffect(() => {\n    if (!isSubmitting) {\n      setEmailError(false);\n      setAgeError(false);\n      setFormError(false);\n    }\n  }, [isSubmitting]);\n\n  const togglePopup = () => {\n    setShowPopup(!showPopup);\n  };\n\n  // Email validation function\n  const isEmailValid = (email) => {\n    const emailPattern = /^[a-zA-Z0-9._-]+@gmail\\.com$/;\n    return emailPattern.test(email);\n  };\n\n  const handleFileChange = (e) => {\n    const selectedFile = e.target.files[0];\n    if (selectedFile) {\n      setPicture(selectedFile);\n      setFileName(selectedFile.name);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // Validate the email before submitting\n    if (!isEmailValid(email)) {\n      setEmailError(true);\n      return; // Stop the form submission if the email is invalid\n    }\n\n    if (\n      !name ||\n      !age ||\n      !area ||\n      !justification ||\n      !email ||\n      !phone ||\n      !fileName ||\n      type === \"None\" ||\n      ageError\n    ) {\n      setFormError(true);\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"age\", age);\n    formData.append(\"area\", area);\n    formData.append(\"justification\", justification);\n    formData.append(\"email\", email);\n    formData.append(\"phone\", phone);\n    formData.append(\"type\", type);\n\n    if (picture) {\n      formData.append(\"picture\", picture);\n    }\n\n    try {\n      const response = await fetch(\"http://localhost:4000/services\", {\n        method: \"POST\",\n        headers: {\n          'Authorization': `Bearer ${user.token}`\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Network response was not ok\");\n      }\n\n      console.log(\"Form submitted successfully\");\n\n      setEmailError(false);\n      setFormError(false);\n      setName(\"\");\n      setAge(\"\");\n      setArea(\"\");\n      setJustification(\"\");\n      setEmail(\"\");\n      setPhone(\"\");\n      setPicture(null);\n      setFileName(\"\");\n      togglePopup();\n    } catch (error) {\n      console.error(\"Error submitting form:\", error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <section className=\"post-pet-section\">\n      <h2>Post a Pet for Adoption</h2>\n      <img src={postPet} alt=\"Pet Looking for a Home\" />\n\n      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n        <div className=\"input-box\">\n          <label>Name:</label>\n          <input\n            type=\"text\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n        </div>\n\n        <div className=\"input-box\">\n          <label>Pet Age:</label>\n          <input\n            type=\"text\"\n            value={age}\n            onChange={(e) => {setAge(e.target.value);}}\n          />\n        </div>\n\n        <div className=\"input-box\">\n          <label>Picture:</label>\n          <label className=\"file-input-label\">\n            <span className=\"file-input-text\">\n              {fileName || \"Choose a Picture\"}\n            </span>\n            <input\n              className=\"file-input\"\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleFileChange}\n            />\n          </label>\n        </div>\n\n        <div className=\"input-box\">\n          <label>Location:</label>\n          <input\n            type=\"text\"\n            value={area}\n            onChange={(e) => setArea(e.target.value)}\n          />\n        </div>\n\n        <div className=\"filter-selection-service\">\n          <label>Type:</label>\n          <select\n            value={type}\n            onChange={(event) => setType(event.target.value)}\n          >\n            <option value=\"None\">None</option>\n            <option value=\"Dog\">Dog</option>\n            <option value=\"Cat\">Cat</option>\n            <option value=\"Rabbit\">Rabbit</option>\n            <option value=\"Bird\">Bird</option>\n            <option value=\"Fish\">Fish</option>\n            <option value=\"Other\">Other</option>\n          </select>\n        </div>\n\n        <div className=\"input-box\">\n          <h3>Justification for giving a pet</h3>\n          <textarea\n            rows=\"4\"\n            value={justification}\n            onChange={(e) => setJustification(e.target.value)}\n          ></textarea>\n        </div>\n\n        <h3>Contact Information</h3>\n\n        <div className=\"input-box\">\n          <label>Email:</label>\n          <input\n            type=\"text\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </div>\n\n        <div className=\"input-box\">\n          <label>Ph.No:</label>\n          <input\n            type=\"tel\"\n            value={phone}\n            onChange={(e) => setPhone(e.target.value)}\n          />\n        </div>\n\n        {emailError && (\n          <p className=\"error-message\">Please provide a valid email address.</p>\n        )}\n        {formError && (\n          <p className=\"error-message\">Please fill out all fields correctly.</p>\n        )}\n\n        <button type=\"submit\" className=\"cta-button\" disabled={isSubmitting}>\n          {isSubmitting ? \"Submitting...\" : \"Submit Your Pet\"}\n        </button>\n\n        {showPopup && (\n          <div className=\"popup\">\n            <div className=\"popup-content\">\n              <h4>Application Submitted; we'll get in touch with you soon.</h4>\n            </div>\n            <button onClick={togglePopup} className=\"close-btn\">\n              Close <i className=\"fa fa-times\"></i>\n            </button>\n          </div>\n        )}\n      </form>\n    </section>\n  );\n};\n\nexport default PostPetSection;*/\n\n/*import React, { useState, useEffect } from \"react\";\nimport postPet from \"./images/postPet.png\";\nimport { useAuthContext } from \"../../hooks/UseAuthContext\";\n\nconst PostPetSection = () => {\n  const { user } = useAuthContext();\n  const [petStatus, setPetStatus] = useState(\"Home Pet\");\n  const [name, setName] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [area, setArea] = useState(\"\");\n  const [justification, setJustification] = useState(\"\");\n  const [posterName, setPosterName] = useState(\"\");\n  const [email, setEmail] = useState(user.email);\n  const [phone, setPhone] = useState(\"\");\n  const [daysInLocation, setDaysInLocation] = useState(\"\");\n  const [formError, setFormError] = useState(false);\n  const [emailError, setEmailError] = useState(false);\n  const [showPopup, setShowPopup] = useState(false);\n  const [type, setType] = useState(\"None\");\n  const [picture, setPicture] = useState(null);\n  const [fileName, setFileName] = useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  useEffect(() => {\n    if (!isSubmitting) {\n      setEmailError(false);\n      setFormError(false);\n    }\n  }, [isSubmitting]);\n\n  const togglePopup = () => {\n    setShowPopup(!showPopup);\n  };\n\n  const isEmailValid = (email) => {\n    const emailPattern = /^[a-zA-Z0-9._-]+@gmail\\.com$/;\n    return emailPattern.test(email);\n  };\n\n  const handleFileChange = (e) => {\n    const selectedFile = e.target.files[0];\n    if (selectedFile) {\n      setPicture(selectedFile);\n      setFileName(selectedFile.name);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!isEmailValid(email)) {\n      setEmailError(true);\n      return;\n    }\n\n    if (\n      !email ||\n      !fileName ||\n      type === \"None\" ||\n      (petStatus === \"Home Pet\" && (!name || !age || !area || !justification || !phone)) ||\n      (petStatus === \"Homeless Pet\" && (!posterName || !phone || !area || !daysInLocation))\n    ) {\n      setFormError(true);\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    const formData = new FormData();\n    formData.append(\"email\", email);\n    formData.append(\"type\", type);\n    formData.append(\"area\", area);\n    formData.append(\"picture\", picture);\n\n    if (petStatus === \"Home Pet\") {\n      formData.append(\"name\", name);\n      formData.append(\"age\", age);\n      formData.append(\"justification\", justification);\n      formData.append(\"phone\", phone);\n    } else {\n      formData.append(\"posterName\", posterName);\n      formData.append(\"phone\", phone);\n      formData.append(\"daysInLocation\", daysInLocation);\n    }\n\n    try {\n      const response = await fetch(\"http://localhost:4000/services\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${user.token}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Network response was not ok\");\n      }\n\n      console.log(\"Form submitted successfully\");\n\n      setEmailError(false);\n      setFormError(false);\n      setName(\"\");\n      setAge(\"\");\n      setArea(\"\");\n      setJustification(\"\");\n      setPosterName(\"\");\n      setEmail(user.email);\n      setPhone(\"\");\n      setPicture(null);\n      setFileName(\"\");\n      setDaysInLocation(\"\");\n      togglePopup();\n    } catch (error) {\n      console.error(\"Error submitting form:\", error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <section className=\"post-pet-section\">\n      <h2>Post a Pet for Adoption</h2>\n      <img src={postPet} alt=\"Pet Looking for a Home\" />\n\n      <div className=\"pet-status-toggle\">\n        <label>\n          <input\n            type=\"radio\"\n            value=\"Home Pet\"\n            checked={petStatus === \"Home Pet\"}\n            onChange={() => setPetStatus(\"Home Pet\")}\n          />\n          Home Pet\n        </label>\n        <label>\n          <input\n            type=\"radio\"\n            value=\"Homeless Pet\"\n            checked={petStatus === \"Homeless Pet\"}\n            onChange={() => setPetStatus(\"Homeless Pet\")}\n          />\n          Homeless Pet\n        </label>\n      </div>\n\n      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n        {petStatus === \"Home Pet\" && (\n          <>\n            <div className=\"input-box\">\n              <label>Name:</label>\n              <input\n                type=\"text\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <label>Pet Age:</label>\n              <input\n                type=\"text\"\n                value={age}\n                onChange={(e) => setAge(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <h3>Justification for giving a pet</h3>\n              <textarea\n                rows=\"4\"\n                value={justification}\n                onChange={(e) => setJustification(e.target.value)}\n              ></textarea>\n            </div>\n            <div className=\"input-box\">\n              <label>Ph.No:</label>\n              <input\n                type=\"tel\"\n                value={phone}\n                onChange={(e) => setPhone(e.target.value)}\n              />\n            </div>\n          </>\n        )}\n\n        {petStatus === \"Homeless Pet\" && (\n          <>\n            <div className=\"input-box\">\n              <label>Poster Name:</label>\n              <input\n                type=\"text\"\n                value={posterName}\n                onChange={(e) => setPosterName(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <label>Ph.No:</label>\n              <input\n                type=\"tel\"\n                value={phone}\n                onChange={(e) => setPhone(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <label>Days in Location:</label>\n              <input\n                type=\"text\"\n                value={daysInLocation}\n                onChange={(e) => setDaysInLocation(e.target.value)}\n              />\n            </div>\n          </>\n        )}\n\n        <div className=\"input-box\">\n          <label>Picture:</label>\n          <label className=\"file-input-label\">\n            <span className=\"file-input-text\">\n              {fileName || \"Choose a Picture\"}\n            </span>\n            <input\n              className=\"file-input\"\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleFileChange}\n            />\n          </label>\n        </div>\n\n        <div className=\"input-box\">\n          <label>Location:</label>\n          <input\n            type=\"text\"\n            value={area}\n            onChange={(e) => setArea(e.target.value)}\n          />\n        </div>\n\n        <div className=\"filter-selection-service\">\n          <label>Type:</label>\n          <select\n            value={type}\n            onChange={(event) => setType(event.target.value)}\n          >\n            <option value=\"None\">None</option>\n            <option value=\"Dog\">Dog</option>\n            <option value=\"Cat\">Cat</option>\n            <option value=\"Rabbit\">Rabbit</option>\n            <option value=\"Bird\">Bird</option>\n            <option value=\"Fish\">Fish</option>\n            <option value=\"Other\">Other</option>\n          </select>\n        </div>\n\n        <div className=\"input-box\">\n          <label>Email:</label>\n          <input\n            type=\"text\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </div>\n\n        {emailError && (\n          <p className=\"error-message\">Please provide a valid email address.</p>\n        )}\n        {formError && (\n          <p className=\"error-message\">Please fill out all fields correctly.</p>\n        )}\n\n        <button type=\"submit\" className=\"cta-button\" disabled={isSubmitting}>\n          {isSubmitting ? \"Submitting...\" : \"Submit Your Pet\"}\n        </button>\n\n        {showPopup && (\n          <div className=\"popup\">\n            <div className=\"popup-content\">\n              <h4>Application Submitted; we'll get in touch with you soon.</h4>\n            </div>\n            <button onClick={togglePopup} className=\"close-btn\">\n              Close <i className=\"fa fa-times\"></i>\n            </button>\n          </div>\n        )}\n      </form>\n    </section>\n  );\n};\n\nexport default PostPetSection;*/\n\n/*import React, { useState, useEffect } from \"react\";\nimport postPet from \"./images/postPet.png\";\nimport { useAuthContext } from \"../../hooks/UseAuthContext\";\n\nconst PostPetSection = () => {\n  const { user } = useAuthContext();\n  const [petStatus, setPetStatus] = useState(\"Home Pet\");\n  const [name, setName] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [area, setArea] = useState(\"\");\n  const [justification, setJustification] = useState(\"\");\n  const [posterName, setPosterName] = useState(\"\");\n  const [email, setEmail] = useState(user.email);\n  const [phone, setPhone] = useState(\"\");\n  const [daysInLocation, setDaysInLocation] = useState(\"\");\n  const [formError, setFormError] = useState(false);\n  const [emailError, setEmailError] = useState(false);\n  const [showPopup, setShowPopup] = useState(false);\n  const [type, setType] = useState(\"None\");\n  const [picture, setPicture] = useState(null);\n  const [fileName, setFileName] = useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  useEffect(() => {\n    if (!isSubmitting) {\n      setEmailError(false);\n      setFormError(false);\n    }\n  }, [isSubmitting]);\n\n  const togglePopup = () => {\n    setShowPopup(!showPopup);\n  };\n\n  const isEmailValid = (email) => {\n    const emailPattern = /^[a-zA-Z0-9._-]+@gmail\\.com$/;\n    return emailPattern.test(email);\n  };\n\n  const handleFileChange = (e) => {\n    const selectedFile = e.target.files[0];\n    if (selectedFile) {\n      setPicture(selectedFile);\n      setFileName(selectedFile.name);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!isEmailValid(email)) {\n      setEmailError(true);\n      return;\n    }\n\n    if (\n      !email ||\n      !fileName ||\n      type === \"None\" ||\n      (petStatus === \"Home Pet\" && (!name || !age || !area || !justification || !phone)) ||\n      (petStatus === \"Homeless Pet\" && (!posterName || !phone || !area || !daysInLocation))\n    ) {\n      setFormError(true);\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    const formData = new FormData();\n    formData.append(\"email\", email);\n    formData.append(\"type\", type);\n    formData.append(\"area\", area);\n    formData.append(\"picture\", picture);\n\n    if (petStatus === \"Home Pet\") {\n      formData.append(\"name\", name);\n      formData.append(\"age\", age);\n      formData.append(\"justification\", justification);\n      formData.append(\"phone\", phone);\n    } else {\n      formData.append(\"posterName\", posterName);\n      formData.append(\"phone\", phone);\n      formData.append(\"daysInLocation\", daysInLocation);\n    }\n\n    try {\n      const response = await fetch(\"http://localhost:4000/services\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${user.token}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Network response was not ok\");\n      }\n\n      console.log(\"Form submitted successfully\");\n\n      setEmailError(false);\n      setFormError(false);\n      setName(\"\");\n      setAge(\"\");\n      setArea(\"\");\n      setJustification(\"\");\n      setPosterName(\"\");\n      setEmail(user.email);\n      setPhone(\"\");\n      setPicture(null);\n      setFileName(\"\");\n      setDaysInLocation(\"\");\n      togglePopup();\n    } catch (error) {\n      console.error(\"Error submitting form:\", error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <section className=\"post-pet-section\">\n      <h2>Post a Pet for Adoption</h2>\n      <img src={postPet} alt=\"Pet Looking for a Home\" />\n\n      <div className=\"pet-status-toggle\">\n        <label>\n          <input\n            type=\"radio\"\n            value=\"Home Pet\"\n            checked={petStatus === \"Home Pet\"}\n            onChange={() => setPetStatus(\"Home Pet\")}\n          />\n          Home Pet\n        </label>\n        <label>\n          <input\n            type=\"radio\"\n            value=\"Homeless Pet\"\n            checked={petStatus === \"Homeless Pet\"}\n            onChange={() => setPetStatus(\"Homeless Pet\")}\n          />\n          Homeless Pet\n        </label>\n      </div>\n\n      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n        {petStatus === \"Home Pet\" && (\n          <>\n            <div className=\"input-box\">\n              <label>Name:</label>\n              <input\n                type=\"text\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <label>Pet Age:</label>\n              <input\n                type=\"text\"\n                value={age}\n                onChange={(e) => setAge(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <h3>Justification for giving a pet</h3>\n              <textarea\n                rows=\"4\"\n                value={justification}\n                onChange={(e) => setJustification(e.target.value)}\n              ></textarea>\n            </div>\n            <div className=\"input-box\">\n              <label>Phone No:</label>\n              <input\n                type=\"tel\"\n                value={phone}\n                onChange={(e) => setPhone(e.target.value)}\n              />\n            </div>\n          </>\n        )}\n\n        {petStatus === \"Homeless Pet\" && (\n          <>\n            <div className=\"input-box\">\n              <label>Poster Name:</label>\n              <input\n                type=\"text\"\n                value={posterName}\n                onChange={(e) => setPosterName(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <label>Phone No:</label>\n              <input\n                type=\"tel\"\n                value={phone}\n                onChange={(e) => setPhone(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <label>Days in Location:</label>\n              <input\n                type=\"text\"\n                value={daysInLocation}\n                onChange={(e) => setDaysInLocation(e.target.value)}\n              />\n            </div>\n          </>\n        )}\n\n        <div className=\"input-box\">\n          <label>Picture:</label>\n          <label className=\"file-input-label\">\n            <span className=\"file-input-text\">\n              {fileName || \"Choose a Picture\"}\n            </span>\n            <input\n              className=\"file-input\"\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleFileChange}\n            />\n          </label>\n        </div>\n\n        <div className=\"input-box\">\n          <label>Location:</label>\n          <input\n            type=\"text\"\n            value={area}\n            onChange={(e) => setArea(e.target.value)}\n          />\n        </div>\n\n        <div className=\"filter-selection-service\">\n          <label>Type:</label>\n          <select\n            value={type}\n            onChange={(event) => setType(event.target.value)}\n          >\n            <option value=\"None\">None</option>\n            <option value=\"Dog\">Dog</option>\n            <option value=\"Cat\">Cat</option>\n            <option value=\"Rabbit\">Rabbit</option>\n            <option value=\"Bird\">Bird</option>\n            <option value=\"Fish\">Fish</option>\n            <option value=\"Other\">Other</option>\n          </select>\n        </div>\n\n        <div className=\"input-box\">\n          <label>Email:</label>\n          <input\n            type=\"text\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </div>\n\n        {emailError && (\n          <p className=\"error-message\">Please provide a valid email address.</p>\n        )}\n        {formError && (\n          <p className=\"error-message\">Please fill out all fields correctly.</p>\n        )}\n\n        <button type=\"submit\" className=\"cta-button\" disabled={isSubmitting}>\n          {isSubmitting ? \"Submitting...\" : \"Submit Your Pet\"}\n        </button>\n\n        {showPopup && (\n          <div className=\"popup\">\n            <div className=\"popup-content\">\n              <h4>Application Submitted; we'll get in touch with you soon.</h4>\n            </div>\n            <button onClick={togglePopup} className=\"close-btn\">\n              Close <i className=\"fa fa-times\"></i>\n            </button>\n          </div>\n        )}\n      </form>\n    </section>\n  );\n};\n\nexport default PostPetSection;*/\n/*import React, { useState, useEffect } from \"react\";\nimport postPet from \"./images/postPet.png\";\nimport { useAuthContext } from \"../../hooks/UseAuthContext\";\n\nconst PostPetSection = () => {\n  const { user } = useAuthContext();\n  const [petStatus, setPetStatus] = useState(\"Home Pet\");\n  const [name, setName] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [area, setArea] = useState(\"\");\n  const [justification, setJustification] = useState(\"\");\n  const [posterName, setPosterName] = useState(\"\");\n  const [email, setEmail] = useState(user.email);\n  const [phone, setPhone] = useState(\"\");\n  const [daysInLocation, setDaysInLocation] = useState(\"\");\n  const [formError, setFormError] = useState(false);\n  const [emailError, setEmailError] = useState(false);\n  const [showPopup, setShowPopup] = useState(false);\n  const [type, setType] = useState(\"None\");\n  const [picture, setPicture] = useState(null);\n  const [fileName, setFileName] = useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  useEffect(() => {\n    if (!isSubmitting) {\n      setEmailError(false);\n      setFormError(false);\n    }\n  }, [isSubmitting]);\n\n  const togglePopup = () => {\n    setShowPopup(!showPopup);\n  };\n\n  const isEmailValid = (email) => {\n    const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n    return emailPattern.test(email);\n  };\n\n  const handleFileChange = (e) => {\n    const selectedFile = e.target.files[0];\n    if (selectedFile) {\n      setPicture(selectedFile);\n      setFileName(selectedFile.name);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    console.log('Form submitted with data: ', { email, fileName, petStatus, name, age, justification, phone, posterName, daysInLocation, type, area });\n\n    if (!isEmailValid(email)) {\n      setEmailError(true);\n      return;\n    }\n\n    if (\n      !email ||\n      !fileName ||\n      type === \"None\" ||\n      (petStatus === \"Home Pet\" && (!name || !age || !area || !justification || !phone)) ||\n      (petStatus === \"Homeless Pet\" && (!posterName || !phone || !area || !daysInLocation))\n    ) {\n      setFormError(true);\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    const formData = new FormData();\n    formData.append(\"email\", email);\n    formData.append(\"type\", type);\n    formData.append(\"area\", area);\n    formData.append(\"picture\", picture);\n\n    if (petStatus === \"Home Pet\") {\n      formData.append(\"name\", name);\n      formData.append(\"age\", age);\n      formData.append(\"justification\", justification);\n      formData.append(\"phone\", phone);\n    } else {\n      formData.append(\"posterName\", posterName);\n      formData.append(\"phone\", phone);\n      formData.append(\"daysInLocation\", daysInLocation);\n    }\n\n    try {\n      console.log(\"Sending request...\");\n      const response = await fetch(\"http://localhost:4000/services\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${user.token}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const errorMessage = await response.text();\n        console.log(\"Error response:\", errorMessage);\n        throw new Error(errorMessage);\n      }\n\n      console.log(\"Form submitted successfully\");\n\n      setEmailError(false);\n      setFormError(false);\n      setName(\"\");\n      setAge(\"\");\n      setArea(\"\");\n      setJustification(\"\");\n      setPosterName(\"\");\n      setEmail(user.email);\n      setPhone(\"\");\n      setPicture(null);\n      setFileName(\"\");\n      setDaysInLocation(\"\");\n      togglePopup();\n    } catch (error) {\n      console.error(\"Error submitting form:\", error);\n      setFormError(true); // Show form error in case of failure\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <section className=\"post-pet-section\">\n      <h2>Post a Pet for Adoption</h2>\n      <img src={postPet} alt=\"Pet Looking for a Home\" />\n\n      <div className=\"pet-status-toggle\">\n        <label>\n          <input\n            type=\"radio\"\n            value=\"Home Pet\"\n            checked={petStatus === \"Home Pet\"}\n            onChange={() => setPetStatus(\"Home Pet\")}\n          />\n          Home Pet\n        </label>\n        <label>\n          <input\n            type=\"radio\"\n            value=\"Homeless Pet\"\n            checked={petStatus === \"Homeless Pet\"}\n            onChange={() => setPetStatus(\"Homeless Pet\")}\n          />\n          Homeless Pet\n        </label>\n      </div>\n\n      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n        {petStatus === \"Home Pet\" && (\n          <>\n            <div className=\"input-box\">\n              <label>Name:</label>\n              <input\n                type=\"text\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <label>Pet Age:</label>\n              <input\n                type=\"text\"\n                value={age}\n                onChange={(e) => setAge(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <h3>Justification for giving a pet</h3>\n              <textarea\n                rows=\"4\"\n                value={justification}\n                onChange={(e) => setJustification(e.target.value)}\n              ></textarea>\n            </div>\n            <div className=\"input-box\">\n              <label>Phone No:</label>\n              <input\n                type=\"tel\"\n                value={phone}\n                onChange={(e) => setPhone(e.target.value)}\n              />\n            </div>\n          </>\n        )}\n\n        {petStatus === \"Homeless Pet\" && (\n          <>\n            <div className=\"input-box\">\n              <label>Poster Name:</label>\n              <input\n                type=\"text\"\n                value={posterName}\n                onChange={(e) => setPosterName(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <label>Phone No:</label>\n              <input\n                type=\"tel\"\n                value={phone}\n                onChange={(e) => setPhone(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <label>Days in Location:</label>\n              <input\n                type=\"text\"\n                value={daysInLocation}\n                onChange={(e) => setDaysInLocation(e.target.value)}\n              />\n            </div>\n          </>\n        )}\n\n        <div className=\"input-box\">\n          <label>Picture:</label>\n          <label className=\"file-input-label\">\n            <span className=\"file-input-text\">\n              {fileName || \"Choose a Picture\"}\n            </span>\n            <input\n              className=\"file-input\"\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleFileChange}\n            />\n          </label>\n        </div>\n\n        <div className=\"input-box\">\n          <label>Location:</label>\n          <input\n            type=\"text\"\n            value={area}\n            onChange={(e) => setArea(e.target.value)}\n          />\n        </div>\n\n        <div className=\"filter-selection-service\">\n          <label>Type:</label>\n          <select\n            value={type}\n            onChange={(event) => setType(event.target.value)}\n          >\n            <option value=\"None\">None</option>\n            <option value=\"Dog\">Dog</option>\n            <option value=\"Cat\">Cat</option>\n            <option value=\"Rabbit\">Rabbit</option>\n            <option value=\"Bird\">Bird</option>\n            <option value=\"Fish\">Fish</option>\n            <option value=\"Other\">Other</option>\n          </select>\n        </div>\n\n        <div className=\"input-box\">\n          <label>Email:</label>\n          <input\n            type=\"text\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </div>\n\n        {emailError && (\n          <p className=\"error-message\">Please provide a valid email address.</p>\n        )}\n        {formError && (\n          <p className=\"error-message\">Please fill out all fields correctly.</p>\n        )}\n\n        <button type=\"submit\" className=\"cta-button\" disabled={isSubmitting}>\n          {isSubmitting ? \"Submitting...\" : \"Submit Your Pet\"}\n        </button>\n\n        {showPopup && (\n          <div className=\"popup\">\n            <div className=\"popup-content\">\n              <h4>Application Submitted; we'll get in touch with you soon.</h4>\n            </div>\n            <button onClick={togglePopup} className=\"close-btn\">\n              Close <i className=\"fa fa-times\"></i>\n            </button>\n          </div>\n        )}\n      </form>\n    </section>\n  );\n};\n\nexport default PostPetSection;*/\n\n/*import React, { useState, useEffect } from \"react\";\nimport postPet from \"./images/postPet.png\";\nimport { useAuthContext } from \"../../hooks/UseAuthContext\";\n\nconst PostPetSection = () => {\n  const { user } = useAuthContext();\n  const [petStatus, setPetStatus] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [area, setArea] = useState(\"\");\n  const [justification, setJustification] = useState(\"\");\n  const [posterName, setPosterName] = useState(\"\");\n  const [email, setEmail] = useState(user.email);\n  const [phone, setPhone] = useState(\"\");\n  const [daysInLocation, setDaysInLocation] = useState(\"\");\n  const [formError, setFormError] = useState(false);\n  const [emailError, setEmailError] = useState(false);\n  const [showPopup, setShowPopup] = useState(false);\n  const [type, setType] = useState(\"None\");\n  const [picture, setPicture] = useState(null);\n  const [fileName, setFileName] = useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  useEffect(() => {\n    if (!isSubmitting) {\n      setEmailError(false);\n      setFormError(false);\n    }\n  }, [isSubmitting]);\n\n  const togglePopup = () => {\n    setShowPopup(!showPopup);\n  };\n\n  const isEmailValid = (email) => {\n    const emailPattern = /^[a-zA-Z0-9._-]+@gmail\\.com$/;\n    return emailPattern.test(email);\n  };\n\n  const handleFileChange = (e) => {\n    const selectedFile = e.target.files[0];\n    if (selectedFile) {\n      setPicture(selectedFile);\n      setFileName(selectedFile.name);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!isEmailValid(email)) {\n      setEmailError(true);\n      return;\n    }\n\n    if (\n      !email ||\n      !fileName ||\n      type === \"None\" ||\n      (petStatus === \"Home Pet\" && (!name || !age || !area || !justification || !phone)) ||\n      (petStatus === \"Homeless Pet\" && (!posterName || !phone || !area || !daysInLocation))\n    ) {\n      setFormError(true);\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    const formData = new FormData();\n    formData.append(\"email\", email);\n    formData.append(\"type\", type);\n    formData.append(\"area\", area);\n    formData.append(\"picture\", picture);\n\n    if (petStatus === \"Home Pet\") {\n      formData.append(\"name\", name);\n      formData.append(\"age\", age);\n      formData.append(\"justification\", justification);\n      formData.append(\"phone\", phone);\n    } else {\n      formData.append(\"posterName\", posterName);\n      formData.append(\"phone\", phone);\n      formData.append(\"daysInLocation\", daysInLocation);\n    }\n\n    try {\n      const response = await fetch(\"http://localhost:4000/services\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${user.token}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Network response was not ok\");\n      }\n\n      console.log(\"Form submitted successfully\");\n\n      setEmailError(false);\n      setFormError(false);\n      setName(\"\");\n      setAge(\"\");\n      setArea(\"\");\n      setJustification(\"\");\n      setPosterName(\"\");\n      setEmail(user.email);\n      setPhone(\"\");\n      setPicture(null);\n      setFileName(\"\");\n      setDaysInLocation(\"\");\n      togglePopup();\n    } catch (error) {\n      console.error(\"Error submitting form:\", error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <section className=\"post-pet-section\">\n      <h2>Post a Pet for Adoption</h2>\n      <img src={postPet} alt=\"Pet Looking for a Home\" />\n\n      <div className=\"pet-status-toggle\">\n        <label>\n          <input\n            type=\"radio\"\n            value=\"Home Pet\"\n            checked={petStatus === \"Home Pet\"}\n            onChange={() => setPetStatus(\"Home Pet\")}\n          />\n          Home Pet\n        </label>\n        <label>\n          <input\n            type=\"radio\"\n            value=\"Homeless Pet\"\n            checked={petStatus === \"Homeless Pet\"}\n            onChange={() => setPetStatus(\"Homeless Pet\")}\n          />\n          Homeless Pet\n        </label>\n      </div>\n\n      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n        {petStatus === \"Home Pet\" && (\n          <>\n            <div className=\"input-box\">\n              <label>Name:</label>\n              <input\n                type=\"text\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <label>Pet Age:</label>\n              <input\n                type=\"text\"\n                value={age}\n                onChange={(e) => setAge(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <h3>Justification for giving a pet</h3>\n              <textarea\n                rows=\"4\"\n                value={justification}\n                onChange={(e) => setJustification(e.target.value)}\n              ></textarea>\n            </div>\n            <div className=\"input-box\">\n              <label>Phone No:</label>\n              <input\n                type=\"tel\"\n                value={phone}\n                onChange={(e) => setPhone(e.target.value)}\n              />\n            </div>\n          </>\n        )}\n\n        {petStatus === \"Homeless Pet\" && (\n          <>\n            <div className=\"input-box\">\n              <label>Poster Name:</label>\n              <input\n                type=\"text\"\n                value={posterName}\n                onChange={(e) => setPosterName(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <label>Phone No:</label>\n              <input\n                type=\"tel\"\n                value={phone}\n                onChange={(e) => setPhone(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <label>Days in Location:</label>\n              <input\n                type=\"text\"\n                value={daysInLocation}\n                onChange={(e) => setDaysInLocation(e.target.value)}\n              />\n            </div>\n          </>\n        )}\n\n        <div className=\"input-box\">\n          <label>Picture:</label>\n          <label className=\"file-input-label\">\n            <span className=\"file-input-text\">\n              {fileName || \"Choose a Picture\"}\n            </span>\n            <input\n              className=\"file-input\"\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleFileChange}\n            />\n          </label>\n        </div>\n\n        <div className=\"input-box\">\n          <label>Location:</label>\n          <input\n            type=\"text\"\n            value={area}\n            onChange={(e) => setArea(e.target.value)}\n          />\n        </div>\n\n        <div className=\"filter-selection-service\">\n          <label>Type:</label>\n          <select\n            value={type}\n            onChange={(event) => setType(event.target.value)}\n          >\n            <option value=\"None\">None</option>\n            <option value=\"Dog\">Dog</option>\n            <option value=\"Cat\">Cat</option>\n            <option value=\"Rabbit\">Rabbit</option>\n            <option value=\"Bird\">Bird</option>\n            <option value=\"Fish\">Fish</option>\n            <option value=\"Other\">Other</option>\n          </select>\n        </div>\n\n        <div className=\"input-box\">\n          <label>Email:</label>\n          <input\n            type=\"text\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </div>\n\n        {emailError && (\n          <p className=\"error-message\">Please provide a valid email address.</p>\n        )}\n        {formError && (\n          <p className=\"error-message\">Please fill out all fields correctly.</p>\n        )}\n\n        <button type=\"submit\" className=\"cta-button\" disabled={isSubmitting}>\n          {isSubmitting ? \"Submitting...\" : \"Submit Your Pet\"}\n        </button>\n\n        {showPopup && (\n          <div className=\"popup\">\n            <div className=\"popup-content\">\n              <h4>Application Submitted; we'll get in touch with you soon.</h4>\n            </div>\n            <button onClick={togglePopup} className=\"close-btn\">\n              Close <i className=\"fa fa-times\"></i>\n            </button>\n          </div>\n        )}\n      </form>\n    </section>\n  );\n};\n\nexport default PostPetSection;*/\nimport React, { useState, useEffect } from \"react\";\nimport postPet from \"./images/postPet.png\";\nimport { useAuthContext } from \"../../hooks/UseAuthContext\";\n\nconst PostPetSection = () => {\n  const { user } = useAuthContext();\n  const [petStatus, setPetStatus] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [area, setArea] = useState(\"\");\n  const [justification, setJustification] = useState(\"\");\n  const [posterName, setPosterName] = useState(\"\");\n  const [email, setEmail] = useState(user.email);\n  const [phone, setPhone] = useState(\"\");\n  const [daysInLocation, setDaysInLocation] = useState(\"\");\n  const [formError, setFormError] = useState(false);\n  const [emailError, setEmailError] = useState(false);\n  const [showPopup, setShowPopup] = useState(false);\n  const [type, setType] = useState(\"None\");\n  const [picture, setPicture] = useState(null);\n  const [fileName, setFileName] = useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  useEffect(() => {\n    if (!isSubmitting) {\n      setEmailError(false);\n      setFormError(false);\n    }\n  }, [isSubmitting]);\n\n  const togglePopup = () => {\n    setShowPopup(!showPopup);\n  };\n\n  const isEmailValid = (email) => {\n    const emailPattern = /^[a-zA-Z0-9._-]+@gmail\\.com$/;\n    return emailPattern.test(email);\n  };\n\n  const handleFileChange = (e) => {\n    const selectedFile = e.target.files[0];\n    if (selectedFile) {\n      setPicture(selectedFile);\n      setFileName(selectedFile.name);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!isEmailValid(email)) {\n      setEmailError(true);\n      return;\n    }\n\n    if (\n      !email ||\n      !fileName ||\n      type === \"None\" ||\n      (petStatus === \"HomePet\" && (!name || !age || !area || !justification || !phone)) ||\n      (petStatus === \"HomelessPet\" && (!posterName || !phone || !area || !daysInLocation))\n    ) {\n      setFormError(true);\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    const formData = new FormData();\n    formData.append(\"email\", email);\n    formData.append(\"type\", type);\n    formData.append(\"area\", area);\n    formData.append(\"picture\", picture);\n\n    if (petStatus === \"HomePet\") {\n      formData.append(\"name\", name);\n      formData.append(\"age\", age);\n      formData.append(\"justification\", justification);\n      formData.append(\"phone\", phone);\n    } else {\n      formData.append(\"posterName\", posterName);\n      formData.append(\"phone\", phone);\n      formData.append(\"daysInLocation\", daysInLocation);\n    }\n\n    try {\n      const response = await fetch(\"http://localhost:4000/services\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${user.token}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Network response was not ok\");\n      }\n\n      console.log(\"Form submitted successfully\");\n\n      setEmailError(false);\n      setFormError(false);\n      setName(\"\");\n      setAge(\"\");\n      setArea(\"\");\n      setJustification(\"\");\n      setPosterName(\"\");\n      setEmail(user.email);\n      setPhone(\"\");\n      setPicture(null);\n      setFileName(\"\");\n      setDaysInLocation(\"\");\n      togglePopup();\n    } catch (error) {\n      console.error(\"Error submitting form:\", error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <section className=\"post-pet-section\">\n      <h2>Post a Pet for Adoption</h2>\n      <img src={postPet} alt=\"Pet Looking for a Home\" />\n\n      <div className=\"pet-status-toggle\">\n        <label>\n          <input\n            type=\"radio\"\n            value=\"Home Pet\"\n            checked={petStatus === \"HomePet\"}\n            onChange={() => setPetStatus(\"HomePet\")}\n          />\n          Home Pet\n        </label>\n        <label>\n          <input\n            type=\"radio\"\n            value=\"Homeless Pet\"\n            checked={petStatus === \"HomelessPet\"}\n            onChange={() => setPetStatus(\"HomelessPet\")}\n          />\n          Homeless Pet\n        </label>\n      </div>\n\n      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n        {petStatus === \"HomePet\" && (\n          <>\n            <div className=\"input-box\">\n              <label>Name:</label>\n              <input\n                type=\"text\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <label>Pet Age:</label>\n              <input\n                type=\"text\"\n                value={age}\n                onChange={(e) => setAge(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <h3>Justification for giving a pet</h3>\n              <textarea\n                rows=\"4\"\n                value={justification}\n                onChange={(e) => setJustification(e.target.value)}\n              ></textarea>\n            </div>\n            <div className=\"input-box\">\n              <label>Ph.No:</label>\n              <input\n                type=\"tel\"\n                value={phone}\n                onChange={(e) => setPhone(e.target.value)}\n              />\n            </div>\n          </>\n        )}\n\n        {petStatus === \"HomelessPet\" && (\n          <>\n            <div className=\"input-box\">\n              <label>Poster Name:</label>\n              <input\n                type=\"text\"\n                value={posterName}\n                onChange={(e) => setPosterName(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <label>Ph.No:</label>\n              <input\n                type=\"tel\"\n                value={phone}\n                onChange={(e) => setPhone(e.target.value)}\n              />\n            </div>\n            <div className=\"input-box\">\n              <label>Days in Location:</label>\n              <input\n                type=\"text\"\n                value={daysInLocation}\n                onChange={(e) => setDaysInLocation(e.target.value)}\n              />\n            </div>\n          </>\n        )}\n\n        <div className=\"input-box\">\n          <label>Picture:</label>\n          <label className=\"file-input-label\">\n            <span className=\"file-input-text\">\n              {fileName || \"Choose a Picture\"}\n            </span>\n            <input\n              className=\"file-input\"\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleFileChange}\n            />\n          </label>\n        </div>\n\n        <div className=\"input-box\">\n          <label>Location:</label>\n          <input\n            type=\"text\"\n            value={area}\n            onChange={(e) => setArea(e.target.value)}\n          />\n        </div>\n\n        <div className=\"filter-selection-service\">\n          <label>Type:</label>\n          <select\n            value={type}\n            onChange={(event) => setType(event.target.value)}\n          >\n            <option value=\"None\">None</option>\n            <option value=\"Dog\">Dog</option>\n            <option value=\"Cat\">Cat</option>\n            <option value=\"Rabbit\">Rabbit</option>\n            <option value=\"Bird\">Bird</option>\n            <option value=\"Fish\">Fish</option>\n            <option value=\"Other\">Other</option>\n          </select>\n        </div>\n\n        <div className=\"input-box\">\n          <label>Email:</label>\n          <input\n            type=\"text\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </div>\n\n        {emailError && (\n          <p className=\"error-message\">Please provide a valid email address.</p>\n        )}\n        {formError && (\n          <p className=\"error-message\">Please fill out all fields correctly.</p>\n        )}\n\n        <button type=\"submit\" className=\"cta-button\" disabled={isSubmitting}>\n          {isSubmitting ? \"Submitting...\" : \"Submit Your Pet\"}\n        </button>\n\n        {showPopup && (\n          <div className=\"popup\">\n            <div className=\"popup-content\">\n              <h4>Application Submitted; we'll get in touch with you soon.</h4>\n            </div>\n            <button onClick={togglePopup} className=\"close-btn\">\n              Close <i className=\"fa fa-times\"></i>\n            </button>\n          </div>\n        )}\n      </form>\n    </section>\n  );\n};\n\nexport default PostPetSection; \n"
        }
    ]
}